(function(){"use strict";var t={9373:function(t,e,i){var s=i(144),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("HeaderPanel",{attrs:{id:"header"}}),e("div",{class:{"network-expanded":t.interfaceStore.isNetworkExpanded},attrs:{id:"main"},on:{click:function(e){return t.sessionStore.clearActivePublication("clicked anywhere")}}},[e("SelectedPublicationsComponent",{attrs:{id:"selected"}}),e("SuggestedPublicationsComponent",{attrs:{id:"suggested"}}),e("NetworkVisComponent",{attrs:{id:"network",svgWidth:1500,svgHeight:600}})],1),e("QuickAccessBar",{staticClass:"is-hidden-desktop",attrs:{id:"quick-access"}}),e("SearchPanel"),e("b-modal",{model:{value:t.interfaceStore.isAboutPageShown,callback:function(e){t.$set(t.interfaceStore,"isAboutPageShown",e)},expression:"interfaceStore.isAboutPageShown"}},[e("AboutPage")],1),e("b-modal",{model:{value:t.interfaceStore.isKeyboardControlsShown,callback:function(e){t.$set(t.interfaceStore,"isKeyboardControlsShown",e)},expression:"interfaceStore.isKeyboardControlsShown"}},[e("KeyboardControlsPage")],1),e("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:t.interfaceStore.isLoading,callback:function(e){t.$set(t.interfaceStore,"isLoading",e)},expression:"interfaceStore.isLoading"}})],1)},a=[],n=(i(7658),i(6086)),r=i(2828),c=i(4167),l=i(5750);const u=(0,n.Q_)("interface",{state:()=>({isLoading:!1,loadingToast:void 0,isOverlay:!1,isNetworkExpanded:!1,isNetworkClusters:!0,isFilterPanelShown:!1,searchQuery:"",isSearchPanelShown:!1,isAboutPageShown:!1,isKeyboardControlsShown:!1,feedbackInvitationShown:!1}),getters:{isMobile(){return window.innerWidth<=1023}},actions:{clear(){this.isOverlay=!1,this.isNetworkExpanded=!1,this.isNetworkClusters=!0,this.isFilterPanelShown=!1,window.scrollTo(0,0)},startLoading(){this.isLoading=!0},endLoading(){this.isLoading=!1,this.loadingToast&&(this.loadingToast.close(),this.loadingToast=null)},updateLoadingToast(t,e){this.loadingToast||(this.loadingToast=r.V.open({indefinite:!0})),this.loadingToast.message=t,this.loadingToast.type=e},showAbstract(t){console.log(t);const e=this,i=function(){e.isOverlay=!1,e.activatePublicationComponent(document.getElementById(t.doi))};this.isOverlay=!0,l.q.alert({message:`<div><b>${t.title}</b></div><div><i>${t.abstract}</i></div>`,type:"is-dark",hasIcon:!0,icon:"text",confirmText:"Close",canCancel:["escape","outside"],onConfirm:i,onCancel:i})},showMessage(t){d({message:t})},showImportantMessage(t){},showErrorMessage(t){d({duration:5e3,message:t,type:"is-danger"},console.error)},showConfirmDialog(t,e){this.isOverlay=!0,l.q.confirm({message:t,onConfirm:()=>{e(),this.isOverlay=!1},onCancel:()=>{this.isOverlay=!1}})},showFeedbackInvitation(){this.feedbackInvitationShown=!0,c.GU.open({indefinite:!0,message:"You have added the 10th publication to selectedâ€”we invite you to share your <b>feedback</b> on the tool!",cancelText:"Maybe later",onAction:this.openFeedback})},openSearch(t){this.searchQuery=t||"",this.isSearchPanelShown=!0},openFeedback(){this.isOverlay=!0,l.q.confirm({message:"<p><b>We are interested in your opinion!</b></p><p>&nbsp;</p><p>What you like and do not like, what features are missing, how you are using the tool, bugs, criticism, ... anything.</p><p>&nbsp;</p><p>We invite you to provide feedback publicly. Clicking 'OK' will open a GitHub discussion in another tab where you can post a comment (account required). Alternatively, you can always send a private message to <a href='mailto:fabian.beck@uni-bamberg.de'>fabian.beck@uni-bamberg.de</a>.</p>",onConfirm:()=>{window.open("https://github.com/fabian-beck/pure-suggest/discussions/214"),this.isOverlay=!1},onCancel:()=>{this.isOverlay=!1}})},activatePublicationComponent:function(t){t&&t.focus()}}});function d(t,e=console.log){t.message&&(e(t.message),r.V.open(t))}var p=i(6486),h=i.n(p),b=i(6961),v=i.n(b);async function g(t,e,i={}){try{const i=JSON.parse(v().decompress(localStorage[t]));if(!i)throw new Error("Cached data is empty");e(i)}catch(s){try{const s=await fetch(t,i);if(!s.ok)throw new Error(`Received response with status ${s.status}`);const n=await s.json();try{localStorage[t]=v().compress(JSON.stringify(n))}catch(o){console.log("Cache full (#elements: ${Object.keys(localStorage).length})! Removing elements...");try{for(let t=0;t<100;t++){const t=Object.keys(localStorage)[Math.floor(Math.random()*Object.keys(localStorage).length)];localStorage.removeItem(t)}localStorage[t]=v().compress(JSON.stringify(n))}catch(a){console.error(`Unable to cache information for "${t}" in local storage: ${a}`)}}console.log(`Successfully fetched data for "${t}"`),e(n)}catch(n){console.error(`Unable to fetch or process data for "${t}": ${n}`)}}}function f(){localStorage.clear()}class m{constructor(t){this.doi=t.toLowerCase(),this.doiUrl="https://doi.org/"+t,this.title="",this.titleHighlighted="",this.year=void 0,this.author=void 0,this.authorShort=void 0,this.authorOrcid=void 0,this.container=void 0,this.volume=void 0,this.issue=void 0,this.page=void 0,this.oaLink=void 0,this.abstract=void 0,this.citationDois=[],this.referenceDois=[],this.citationCount=0,this.referenceCount=0,this.boostMatches=0,this.boostKeywords=[],this.boostFactor=1,this.score=0,this.scoreColor="#FFF",this.citationsPerYear=0,this.isSurvey=!1,this.isHighlyCited=!1,this.isNew=!1,this.isUnnoted=!1,this.isOpenAccess=!1,this.isActive=!1,this.isLinkedToActive=!1,this.isSelected=!1,this.isRead=!1,this.wasFetched=!1}async fetchData(){if(!this.wasFetched){try{await g(`https://opencitations.net/index/coci/api/v1/metadata/${this.doi}`,(t=>{if(!t||0===t.length)return void console.error(`Unable to process metadata for DOI "${this.doi}" because of empty message.`);const e=t[0];if(this.title=e.title,e.author){const t=e.author.split("; ");1===t.length?this.authorShort=t[0].split(", ")[0]:2===t.length?this.authorShort=`${t[0].split(", ")[0]} and ${t[1].split(", ")[0]}`:t.length>2&&(this.authorShort=`${t[0].split(", ")[0]} et al.`),this.author=e.author.replace(/(,\s+)(\d{4}-\d{4}-\d{4}-\d{3}[0-9X]{1})/g,""),this.authorOrcid=e.author.replace(/(,\s+)(\d{4}-\d{4}-\d{4}-\d{3}[0-9X]{1})/g," <a href='https://orcid.org/$2'><img alt='ORCID logo' src='https://info.orcid.org/wp-content/uploads/2019/11/orcid_16x16.png' width='14' height='14' /></a>")}if(this.container="",e.source_title.split(" ").forEach((t=>{let e="";e=/\(.+\)/.test(t)?t.toUpperCase():/\d+(st|nd|rd|th)/i.test(t)?t.toLowerCase():/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})(\.?)$/i.test(t)?t.toUpperCase():w[t.toLowerCase()],this.container+=(e||t)+" "})),this.container=h().trim(this.container,". "),this.container=C(this.container),this.year=e.year,!this.year){const t=this.doi.match(/\.((19|20)\d\d)\./);t&&(this.year=t[1])}this.volume=e.volume,this.issue=e.issue,this.page=e.page,this.oaLink=e.oa_link,e.reference.split("; ").forEach((t=>{t&&this.referenceDois.push(t.toLowerCase())})),e.citation.split("; ").forEach((t=>{t&&this.citationDois.push(t.toLowerCase())})),this.citationsPerYear=this.citationDois.length/Math.max(1,y-this.year)}),{headers:{authorization:"aa9da96d-3c7b-49c1-a2d8-1c2d01ae10a5"}}),await g(`https://api.crossref.org/v1/works/${this.doi}?mailto=fabian.beck@uni-bamberg.de`,(t=>{const e=t.message;e.abstract&&(this.abstract=e.abstract.replaceAll(/<jats:/gi,"<").replaceAll(/<\/jats:/gi,"</").replaceAll(/<.*?>abstract<.*?>/gi,"")),e.title.length&&e.title[0].length>=this.title.length&&(this.title=e.title[0]);const i=e.subtitle;if(i.length&&this.title.toLowerCase().indexOf(i[0].toLowerCase())){const t=this.title.replaceAll(/<[^>]*>/g,"");this.title+=`${t.match(/^.*\W$/)?"":":"}  ${i[0]}`}this.year||e.created&&(this.year=e.created["date-parts"][0][0])})),this.title=C(this.title),this.gsUrl=`https://scholar.google.de/scholar?hl=en&q=${this.title} ${this.author?this.author:""}`,this.referenceDois.length>100?this.isSurvey=`more than 100 references (${this.referenceDois.length})`:this.referenceDois.length>=50&&/.*(survey|state|review|advances|future).*/i.test(this.title)&&(this.isSurvey=`more than 50 references (${this.referenceDois.length}) and "${/(survey|state|review|advances|future)/i.exec(this.title)[0]}" in the title`),this.isHighlyCited=this.citationsPerYear>10&&`more than 10 citations per year (${this.citationsPerYear.toFixed(1)})`,this.isNew=y-this.year<2&&"published within the last two calendar years",this.isUnnoted=this.citationsPerYear<1&&`less than 1 citation per year (${this.citationsPerYear.toFixed(1)})`,this.isOpenAccess=!!this.oaLink}catch(t){console.log(t)}this.wasFetched=!0}}updateScore(t){this.boostMatches=0,this.boostFactor=1;let e=[this.title];t.forEach((t=>{if(!t)return;let i=-1;t.split("|").forEach((s=>{if(!(i>=0)){for(let o=0;o<e.length;o++){const a=e[o];if(0!=a.indexOf("<")&&(i=a.toLowerCase().indexOf(s),i>=0)){this.boostMatches+=1,this.boostKeywords.push(t),this.boostFactor=2*this.boostFactor,e[o]=[a.substring(0,i),"<u style='text-decoration-color: hsl(48, 100%, 67%); text-decoration-thickness: 0.25rem;'>"+a.substring(i,i+s.length)+"</u>",a.substring(i+s.length)];break}}e=e.flat()}}))})),this.titleHighlighted=e.join(""),this.score=(this.citationCount+this.referenceCount)*this.boostFactor;let i=100;this.score>=32?i=60:this.score>=16?i=72:this.score>=8?i=80:this.score>=4?i=90:this.score>=2&&(i=95),this.scoreColor=`hsl(0, 0%, ${i}%)`}toBibtex(){function t(t){let e=t,i=[];return t.split(/\W/).forEach((t=>{t.slice(1)==t.slice(1).toLowerCase()||i.includes(t)||(e=e.replaceAll(t,`{${t}}`),i.push(t))})),e}let e="misc",i="";if(this.title&&(i+=`\n    title = {${t(this.title)}},`),this.author&&(i+=`\n    author = {${this.author.replaceAll(";"," and")}},`),this.year&&(i+=`\n    year = {${this.year}},`),this.volume)e="article",i+=`\n    journal = {${this.container}},\n    volume = {${this.volume}},`,this.issue&&(i+=`\n    number = {${this.issue}},`);else if(this.container){const t=this.container.toLowerCase();e=t.indexOf("proceedings")>=0||t.indexOf("conference")>=0||t.indexOf("symposium")>=0||t.indexOf("workshop")>=0?"inproceedings":"incollection",i+=`\n    booktitle = {${this.container}},`}return this.page&&(i+=`\n    pages = {${this.page}},`),`@${e}{${this.doi.replaceAll(/_/g,"")},${i}\n    doi = {${this.doi}}\n}`}hasTag(){return m.TAGS.some((t=>this[t.value]))}getMetaString(){let t="";return this.title&&(t+=this.title+" "),this.author&&(t+=this.author+" "),this.container&&(t+=this.container+" "),t}static get TAGS(){return[{value:"isHighlyCited",name:"Highly cited"},{value:"isSurvey",name:"Literature survey"},{value:"isNew",name:"New"},{value:"isUnnoted",name:"Unnoted"},{value:"isOpenAccess",name:"Open access"}]}static sortPublications(t){t.sort(((t,e)=>e.score-1/((e.year?e.year:0)+2)-(t.score-1/((t.year?t.year:0)+2))))}}const y=(new Date).getFullYear(),w={a:"a",an:"an",acm:"ACM",and:"and",by:"by",chi:"CHI",during:"during",for:"for",from:"from",ieee:"IEEE",ii:"II",iii:"III",in:"in",not:"not",of:"of",or:"or",on:"on",the:"the",their:"their",through:"through",to:"to",via:"via",with:"with",within:"within"};function S(t){return t.replaceAll(/<[^>]*>/g,"")}function C(t){let e="";return S(t).split(" ").forEach((t=>{const i=w[t.toLowerCase()];e+=(i||t)+" "})),e=e.charAt(0).toUpperCase()+e.slice(1),e=e.trim(),e=e.replaceAll(/--/g,"â€“"),e=e.replaceAll(/ - /g," â€“ "),e=e.replaceAll(/---/g,"â€”"),e=e.replaceAll(/ ?â€” ?/g,"â€”"),e=e.replaceAll(/&[A-Z]/g,(t=>t.toLowerCase())),e.length>300&&(e=e.substring(0,295)+"[...]"),e}class k{constructor(){this.string="",this.yearStart=void 0,this.yearEnd=void 0,this.tag=""}matchesString(t){return!this.string||t.getMetaString().toLowerCase().indexOf(this.string.toLowerCase())>=0}isSpecificYearActive(t){return t&&t>=1e3&&t<1e4}isYearActive(){return this.isSpecificYearActive(Number(this.yearStart))||this.isSpecificYearActive(Number(this.yearEnd))}matchesYearStart(t){const e=Number(this.yearStart);return!this.isSpecificYearActive(e)||e<=Number(t.year)}matchesYearEnd(t){const e=Number(this.yearEnd);return!this.isSpecificYearActive(e)||e>=Number(t.year)}matchesYear(t){return!!t.year&&(this.matchesYearStart(t)&&this.matchesYearEnd(t))}matchesTag(t){return!this.tag||t[this.tag]}matches(t){return this.matchesString(t)&&this.matchesTag(t)&&this.matchesYear(t)}}function _(t,e,i){const s=new Blob([i],{type:e});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(s,t);else{const e=window.document.createElement("a");e.href=window.URL.createObjectURL(s),e.download=t,document.body.appendChild(e),e.click(),document.body.removeChild(e)}}function x(t,e){var i=t.getBoundingClientRect().top,s=i+window.pageYOffset-e;window.scrollTo({top:s,behavior:"smooth"})}function P(t,e){function i(t){var e=1e4*Math.sin(t++);return e-Math.floor(e)}var s,o,a=t.length;while(a)o=Math.floor(i(e)*a--),s=t[a],t[a]=t[o],t[o]=s,++e;return t}const E=(0,n.Q_)("session",{state:()=>({interfaceStore:u(),selectedPublications:[],selectedQueue:[],excludedPublicationsDois:[],excludedQueue:[],suggestion:"",maxSuggestions:50,boostKeywordString:"",activePublication:"",readPublicationsDois:new Set,filter:new k,addQuery:""}),getters:{selectedPublicationsDois:t=>N(t.selectedPublications),selectedPublicationsCount:t=>t.selectedPublications.length,excludedPublicationsCount:t=>t.excludedPublicationsDois.length,suggestedPublications:t=>t.suggestion?t.suggestion.publications:[],suggestedPublicationsFiltered:t=>t.suggestedPublications.filter((e=>t.filter.matches(e))),publications:t=>t.selectedPublications.concat(t.suggestedPublications),publicationsFiltered:t=>t.selectedPublications.concat(t.suggestedPublicationsFiltered),yearMax:t=>Math.max(...t.publicationsFiltered.filter((t=>t.year)).map((t=>Number(t.year)))),yearMin:t=>Math.min(...t.publicationsFiltered.filter((t=>t.year)).map((t=>Number(t.year)))),unreadSuggestionsCount:t=>t.suggestedPublicationsFiltered.filter((t=>!t.isRead)).length,boostKeywords:t=>t.boostKeywordString.toLowerCase().split(/,\s*/).map((t=>t.trim())),isKeywordLinkedToActive:t=>e=>t.activePublication&&t.activePublication.boostKeywords.includes(e),uniqueBoostKeywords:t=>[...new Set(t.boostKeywords)],isUpdatable:t=>t.selectedQueue.length>0||t.excludedQueue.length>0,isEmpty:t=>0===t.selectedPublicationsCount&&0===t.excludedPublicationsCount&&0===t.selectedQueue.length&&!t.isUpdatable,isSelected:t=>e=>t.selectedPublicationsDois.includes(e),isExcluded:t=>e=>t.excludedPublicationsDois.includes(e),isQueuingForSelected:t=>e=>t.selectedQueue.includes(e),isQueuingForExcluded:t=>e=>t.excludedQueue.includes(e),getSelectedPublicationByDoi:t=>e=>t.selectedPublications.filter((t=>t.doi===e))[0]},actions:{clear(){this.selectedPublications=[],this.selectedQueue=[],this.excludedPublicationsDois=[],this.excludedQueue=[],this.suggestion="",this.maxSuggestions=50,this.boostKeywordString="",this.activePublication="",this.filter=new k,this.addQuery="",this.interfaceStore.clear()},removeFromExcludedPublication(t){this.excludedPublicationsDois=this.excludedPublicationsDois.filter((e=>e!=t))},setBoostKeywordString(t){this.boostKeywordString=t,this.updateScores()},queueForSelected(t){Array.isArray(t)||(t=[t]),this.excludedQueue=this.excludedQueue.filter((e=>!t.includes(e))),t.forEach((t=>{this.isSelected(t)||this.selectedQueue.includes(t)||this.selectedQueue.push(t)}))},queueForExcluded(t){this.isExcluded(t)||this.excludedQueue.includes(t)||(this.selectedQueue=this.selectedQueue.filter((e=>t!=e)),this.excludedQueue.push(t))},removeFromQueues(t){this.selectedQueue=this.selectedQueue.filter((e=>t!=e)),this.excludedQueue=this.excludedQueue.filter((e=>t!=e))},clearQueues(){this.excludedQueue=[],this.selectedQueue=[]},async updateQueued(){this.clearActivePublication(),this.excludedQueue.length&&(this.excludedPublicationsDois=this.excludedPublicationsDois.concat(this.excludedQueue)),this.selectedPublications=this.selectedPublications.filter((t=>!this.excludedQueue.includes(t.doi))),this.suggestion.publications=this.suggestion.publications.filter((t=>!this.selectedQueue.includes(t.doi)&&!this.excludedQueue.includes(t.doi))),this.selectedQueue.length&&this.addPublicationsToSelection(this.selectedQueue),await this.updateSuggestions(),!this.interfaceStore.feedbackInvitationShown&&this.selectedPublications.length>=10&&this.interfaceStore.showFeedbackInvitation(),this.clearQueues()},async addPublicationsAndUpdate(t){t.forEach((t=>this.removeFromQueues(t))),await this.addPublicationsToSelection(t),await this.updateSuggestions()},async addPublicationsToSelection(t){console.log(`Adding to selection publications with DOIs: ${t}.`),t.forEach((t=>{t=t.toLowerCase(),this.isExcluded(t)&&this.removeFromExcludedPublication(t),this.getSelectedPublicationByDoi(t)||this.selectedPublications.push(new m(t))}))},async updateSuggestions(t=50){this.maxSuggestions=t,this.interfaceStore.startLoading();let e=0;this.interfaceStore.updateLoadingToast(`${e}/${this.selectedPublicationsCount} selected publications loaded`,"is-primary"),await Promise.all(this.selectedPublications.map((async t=>{await t.fetchData(),t.isSelected=!0,e++,this.interfaceStore.updateLoadingToast(`${e}/${this.selectedPublicationsCount} selected publications loaded`,"is-primary")}))),await this.computeSuggestions(),this.interfaceStore.endLoading()},async computeSuggestions(){function t(t,i,s,o,a){if(!t.isExcluded(i))if(t.isSelected(i))t.getSelectedPublicationByDoi(i)[s]++;else{if(!e[i]){const t=new m(i);e[i]=t}e[i][o].push(a),e[i][s]++}}console.log(`Starting to compute new suggestions based on ${this.selectedPublicationsCount} selected (and ${this.excludedPublicationsCount} excluded).`),this.clearActivePublication("updating suggestions");const e={};this.selectedPublications.forEach((t=>{t.citationCount=0,t.referenceCount=0})),this.selectedPublications.forEach((e=>{e.citationDois.forEach((i=>{t(this,i,"citationCount","referenceDois",e.doi)})),e.referenceDois.forEach((i=>{t(this,i,"referenceCount","citationDois",e.doi)}))}));let i=Object.values(e);i=P(i,0),console.log(`Identified ${i.length} publications as suggestions.`),i.sort(((t,e)=>e.citationCount+e.referenceCount-(t.citationCount+t.referenceCount)));const s=i.slice(this.maxSuggestions,this.maxSuggestions+50);i=i.slice(0,this.maxSuggestions),console.log(`Filtered suggestions to ${i.length} top candidates, loading metadata for these.`);let o=0;this.interfaceStore.updateLoadingToast(`${o}/${i.length} suggestions loaded`,"is-info"),await Promise.all(i.map((async t=>{await t.fetchData(),o++,this.interfaceStore.updateLoadingToast(`${o}/${i.length} suggestions loaded`,"is-info")}))),i.forEach((t=>{t.isRead=this.readPublicationsDois.has(t.doi)})),console.log("Completed computing and loading of new suggestions."),s.forEach((t=>{t.fetchData()})),this.suggestion={publications:Object.values(i),totalSuggestions:Object.values(e).length},this.updateScores()},updateScores(){console.log("Updating scores of publications and reordering them."),this.publications.forEach((t=>{t.updateScore(this.boostKeywords)})),m.sortPublications(this.selectedPublications),m.sortPublications(this.suggestedPublications)},loadMoreSuggestions(){this.updateSuggestions(this.maxSuggestions+50)},setActivePublication(t){this.selectedPublications.forEach((e=>{e.isActive=e.doi===t,e.isActive&&(this.activePublication=e,this.selectedPublications.forEach((t=>{t.isLinkedToActive=e.citationDois.indexOf(t.doi)>=0||e.referenceDois.indexOf(t.doi)>=0})),this.suggestedPublications.forEach((t=>{t.isLinkedToActive=e.citationDois.indexOf(t.doi)>=0||e.referenceDois.indexOf(t.doi)>=0})))})),this.suggestedPublications.forEach((e=>{e.isActive=e.doi===t,e.isActive&&(e.isRead=!0,this.readPublicationsDois.add(t),this.activePublication=e,this.selectedPublications.forEach((t=>{t.isLinkedToActive=e.citationDois.indexOf(t.doi)>=0||e.referenceDois.indexOf(t.doi)>=0})))})),console.log(`Highlighted as active publication with DOI ${t}.`)},activatePublicationComponentByDoi:function(t){t!==this.activePublication?.doi&&(this.interfaceStore.activatePublicationComponent(document.getElementById(t)),this.setActivePublication(t))},clearActivePublication(t){this.activePublication&&(this.activePublication=void 0,this.publications.forEach((t=>{t.isActive=!1,t.isLinkedToActive=!1})),console.log(`Cleared any highlighted active publication, triggered by "${t}".`))},loadSession(t){console.log(`Loading session ${JSON.stringify(t)}`),t&&t.selected?(t.boost&&(this.boostKeywordString=t.boost),t.excluded&&(this.excludedPublicationsDois=t.excluded),this.addPublicationsToSelection(t.selected),this.updateSuggestions()):this.interfaceStore.showErrorMessage("Cannot read session state from JSON.")},clearSession:function(){this.interfaceStore.showConfirmDialog("You are going to clear all selected and excluded articles and jump back to the initial state.",this.clear)},exportSession:function(){let t={selected:this.selectedPublicationsDois,excluded:this.excludedPublicationsDois,boost:this.boostKeywords.join(", ")};_("session.json","application/json",JSON.stringify(t))},importSession:function(t){const e=new FileReader;e.onload=()=>{try{const t=e.result,i=JSON.parse(t);this.loadSession(i)}catch{this.interfaceStore.showErrorMessage("Cannot read JSON from file.")}},e.readAsText(t)},loadExample:function(){const t={selected:["10.1109/tvcg.2015.2467757","10.1109/tvcg.2015.2467621","10.1002/asi.24171","10.2312/evp.20221110"],boost:"cit, visual, map, publi|literat"};this.loadSession(t)},exportAllBibtex:function(){this.exportBibtex(this.selectedPublications)},exportSingleBibtex:function(t){this.exportBibtex([t])},exportBibtex:function(t){let e="";t.forEach((t=>e+=t.toBibtex()+"\n\n")),_("publications.bib","application/x-bibtex",e)},clearCache:function(){this.interfaceStore.showConfirmDialog("You are going to clear the cache, as well as all selected and excluded articles and jump back to the initial state.",(()=>{this.clear(),f()}))}}});function N(t){return t.map((t=>t.doi))}var A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box p-0 m-0 is-radiusless"},[e("b-navbar",{staticClass:"box p-0 m-0 is-radiusless",attrs:{"fixed-top":t.interfaceStore.isMobile},scopedSlots:t._u([{key:"brand",fn:function(){return[e("b-navbar-item",[e("b-icon",{staticClass:"has-text-grey",attrs:{icon:"water-plus-outline",size:"is-medium"}}),e("h1",{staticClass:"title ml-2"},[e("span",{domProps:{innerHTML:t._s(t.$appNameHtml)}})])],1)]},proxy:!0},{key:"start",fn:function(){return[e("b-navbar-dropdown",{directives:[{name:"show",rawName:"v-show",value:!t.sessionStore.isEmpty,expression:"!sessionStore.isEmpty"}],attrs:{label:`Session (${t.sessionStore.selectedPublicationsCount} selected${t.sessionStore.excludedPublicationsCount?`; ${t.sessionStore.excludedPublicationsCount} excluded`:""})`}},[e("b-navbar-item",{on:{click:t.sessionStore.exportSession}},[e("b-icon",{attrs:{icon:"export"}}),e("span",{staticClass:"ml-2"},[t._v("Export session as JSON")])],1),e("b-navbar-item",{on:{click:t.sessionStore.exportAllBibtex}},[e("b-icon",{attrs:{icon:"export"}}),e("span",{staticClass:"ml-2"},[t._v("Export selected as BibTeX")])],1),e("b-navbar-item",{staticClass:"has-text-danger",on:{click:t.sessionStore.clearSession}},[e("b-icon",{attrs:{icon:"delete"}}),e("span",{staticClass:"ml-2"},[e("span",{staticClass:"key"},[t._v("C")]),t._v("lear session")])],1)],1)]},proxy:!0},{key:"end",fn:function(){return[e("b-navbar-item",{staticClass:"mr-6 ml-1",attrs:{tag:"div"}},[e("a",{attrs:{href:"https://twitter.com/pure_suggest"}},[e("b-icon",{attrs:{icon:"twitter"}})],1),e("a",{staticClass:"ml-5",attrs:{href:"https://github.com/fabian-beck/pure-suggest"}},[e("b-icon",{attrs:{icon:"github"}})],1)]),e("b-navbar-dropdown",{attrs:{label:"â‹®","icon-left":"dots-vertical",right:"",collapsible:""}},[e("b-navbar-item",{on:{click:t.interfaceStore.openFeedback}},[e("b-icon",{attrs:{icon:"comment-quote-outline"}}),e("span",{staticClass:"ml-2"},[t._v("Feedback")])],1),e("b-navbar-item",{staticClass:"is-hidden-touch",on:{click:function(e){t.interfaceStore.isKeyboardControlsShown=!0}}},[e("b-icon",{attrs:{icon:"keyboard-outline"}}),e("span",{staticClass:"ml-2"},[t._v("Keyboard controls")])],1),e("b-navbar-item",{on:{click:function(e){t.interfaceStore.isAboutPageShown=!0}}},[e("b-icon",{attrs:{icon:"information-outline"}}),e("span",{staticClass:"ml-2"},[t._v("About")])],1),e("b-navbar-item",{staticClass:"has-text-danger",on:{click:t.sessionStore.clearCache}},[e("b-icon",{attrs:{icon:"cached"}}),e("span",{staticClass:"ml-2"},[t._v("Clear cache (and session)")])],1)],1)]},proxy:!0}])}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.isEmpty,expression:"sessionStore.isEmpty"}],staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"subtitle level-item mt-2"},[t._v(" "+t._s(this.$appSubtitle)+" ")])]),e("div",{staticClass:"column is-two-thirds"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.isEmpty,expression:"sessionStore.isEmpty"}],staticClass:"notification has-text-centered p-2"},[t._m(0)])])])],1)},$=[function(){var t=this,e=t._self._c;return e("p",[t._v(" Based on a set of selected publications, "),e("b",{staticClass:"has-text-info"},[t._v("suggest")]),t._v("ing related "),e("b",{staticClass:"has-text-primary"},[t._v("pu")]),t._v("blications connected by "),e("b",{staticClass:"has-text-primary"},[t._v("re")]),t._v("ferences. ")])}],F={name:"HeaderPanel",setup(){const t=E(),e=u();return{sessionStore:t,interfaceStore:e}},props:{isMobile:Boolean}},T=F,D=i(1001),L=(0,D.Z)(T,A,$,!1,null,"91105b18",null),O=L.exports,Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"selected-publications box has-background-primary"},[e("div",{staticClass:"level"},[e("div",{staticClass:"level-left has-text-white"},[e("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"level-item",attrs:{"data-tippy-content":"The <b>publications selected as seeds</b> for computing the suggestions, sorted by score."}},[e("b-icon",{attrs:{icon:"water-outline"}}),e("h2",{staticClass:"is-size-5 ml-2"},[t._v("Selected")])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.sessionStore.isEmpty,expression:"!sessionStore.isEmpty"}],staticClass:"level-right"},[e("div",{staticClass:"level-item"},[e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"compact-button",attrs:{"icon-left":"magnify","data-tippy-content":"<span class='key'>S</span>earch/import specific publications to be added to selected."},on:{click:function(e){return e.stopPropagation(),t.interfaceStore.openSearch()}}})],1)])]),e("div",{staticClass:"header"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.sessionStore.isEmpty,expression:"!sessionStore.isEmpty"}],staticClass:"notification has-background-warning-light p-2 pt-3 is-gapless"},[e("BoostKeywordsComponent")],1),e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.isUpdatable,expression:"sessionStore.isUpdatable"}],staticClass:"notification has-background-primary-light media p-2"},[e("b-icon",{staticClass:"media-left ml-2 mt-2 is-hidden-mobile",attrs:{icon:"tray-full"}}),e("div",{staticClass:"media-content has-text-centered mt-2"},[e("b",[t._v("Queue:")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.selectedQueue.length,expression:"sessionStore.selectedQueue.length"}]},[t._v(" "+t._s(t.sessionStore.selectedQueue.length>1?`${t.sessionStore.selectedQueue.length} publications`:"1 publication")+" to be added")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.selectedQueue.length&&t.sessionStore.excludedQueue.length,expression:"\n              sessionStore.selectedQueue.length &&\n              sessionStore.excludedQueue.length\n            "}]},[t._v(" and ")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.excludedQueue.length,expression:"sessionStore.excludedQueue.length"}]},[t._v(" "+t._s(t.sessionStore.excludedQueue.length>1?`${t.sessionStore.excludedQueue.length} publications`:"1 publication")+" to be excluded")]),t._v(". ")]),e("div",{staticClass:"media-right level"},[e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"button ml-2 level-item",attrs:{"icon-left":"undo","data-tippy-content":"Clear queue and discard update."},on:{click:function(e){return e.stopPropagation(),t.sessionStore.clearQueues()}}}),e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"button has-background-primary has-text-white ml-2 level-item",attrs:{"icon-left":"update","data-tippy-content":"Update suggested and excluded publications with queue and compute new suggestions."},on:{click:t.sessionStore.updateQueued}},[e("span",{staticClass:"key"},[t._v("U")]),t._v("pdate")])],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.isEmpty,expression:"sessionStore.isEmpty"}],staticClass:"notification has-text-centered has-background-primary-light p-2"},[t._m(0),e("div",{staticClass:"level mt-2"},[e("div",{staticClass:"level-item"}),e("div",{staticClass:"level-item"},[e("b-button",{staticClass:"button has-background-primary-light",attrs:{"icon-left":"magnify"},on:{click:function(e){return e.stopPropagation(),t.interfaceStore.openSearch()}}},[t._v(" Search/import ")])],1),e("div",{staticClass:"level-item"},[e("b-button",{staticClass:"button has-background-primary-light",attrs:{"icon-left":"import"},on:{click:t.importSession}},[t._v(" Import session ")])],1),e("div",{staticClass:"level-item"},[e("b-button",{staticClass:"button has-background-primary-light",attrs:{"icon-left":"file-document"},on:{click:function(e){return e.stopPropagation(),t.sessionStore.loadExample()}}},[t._v(" Load example ")])],1)])])])]),e("PublicationListComponent",{ref:"publicationList",attrs:{publications:t.sessionStore.selectedPublications}})],1)},M=[function(){var t=this,e=t._self._c;return e("p",[e("i",[t._v("To start, "),e("b",[t._v("add publications")]),t._v(" to selected:")])])}],B=function(){var t=this,e=t._self._c;return e("div",{staticClass:"field has-addons is-floating-label boost"},[e("label",{staticClass:"label"},[t._v("Keywords")]),e("p",{staticClass:"control has-icons-right is-expanded"},[e("highlightable-input",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"input boost",attrs:{highlight:t.highlight,spellcheck:"false",type:"text","data-tippy-content":"Boost by factors of 2 the score of publications that contain the following keyword(s) in their title.<br><br>Use ',' to separate multiple keywords, use '|' to separate alternatives/synonyms of the same keywords."},model:{value:t.sessionStore.boostKeywordString,callback:function(e){t.$set(t.sessionStore,"boostKeywordString",e)},expression:"sessionStore.boostKeywordString"}}),e("span",{staticClass:"icon is-small is-right is-clickable"},[e("i",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.boostKeywordString,expression:"sessionStore.boostKeywordString"}],staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.sessionStore.setBoostKeywordString("")}}})])],1),e("p",{staticClass:"control"},[e("b-button",{staticClass:"button has-background-warning",attrs:{type:"submit","icon-left":"chevron-double-up"},on:{click:t.sessionStore.updateScores}},[e("span",[e("span",{staticClass:"key"},[t._v("B")]),t._v("oost")])])],1)])},I=[],R=i(7525),K={name:"BoostKeywordsComponent",components:{HighlightableInput:R.Z},setup(){const t=E(),e=u();return{sessionStore:t,interfaceStore:e}},data(){return{highlight:[{text:",",style:"color: #ccc; padding-left: 0.25rem; padding-right: 0.75rem;"},{text:"|",style:"color: #ccc; padding-left: 0.25rem; padding-right: 0.25rem;"},{text:/[^,|]+\b/g,style:"text-decoration: underline; text-decoration-color: hsl(48, 100%, 67%); text-decoration-thickness: 0.25rem;"}]}}},U=K,q=(0,D.Z)(U,B,I,!1,null,null,null),Y=q.exports,z=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"publication-list has-background-white"},t._l(t.publications,(function(i){return e("PublicationComponent",{key:i.doi,attrs:{publication:i,suggestion:t.suggestion},on:{add:t.addPublication,activate:t.activatePublication}})})),1)},H=[],j=function(){var t=this,e=t._self._c;return e("li",[t.sessionStore.isQueuingForSelected(t.publication.doi)||t.sessionStore.isQueuingForExcluded(t.publication.doi)?e("b-message",{staticClass:"waitingNotification",class:{"is-primary":t.sessionStore.isQueuingForSelected(t.publication.doi),"is-dark":t.sessionStore.isQueuingForExcluded(t.publication.doi)},attrs:{"has-icon":"",icon:"tray-full","icon-size":"mdi-24px"}},[e("div",{staticClass:"level is-mobile"},[e("div",{staticClass:"level-item"},[t._v(" To beÂ  "),t.sessionStore.isQueuingForSelected(t.publication.doi)?e("span",[e("b",[t._v("selected ")]),t._v(" "),e("b-icon",{attrs:{icon:"plus-thick",size:"is-small"}})],1):e("span",[e("b",[t._v(" excluded ")]),e("b-icon",{attrs:{icon:"minus-thick",size:"is-small"}})],1)]),e("div",{staticClass:"level-right"},[e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-small",attrs:{"icon-left":"undo","data-tippy-content":"Remove publication from queue again."},on:{click:function(e){return e.stopPropagation(),t.sessionStore.removeFromQueues(t.publication.doi)}}})],1)])]):t._e(),e("div",{staticClass:"publication-component media",class:{active:t.publication.isActive,selected:t.publication.isSelected,linkedToActive:t.publication.isLinkedToActive,unread:!t.publication.isRead&&!t.publication.isSelected&&t.publication.wasFetched,queuing:t.sessionStore.isQueuingForSelected(t.publication.doi)||t.sessionStore.isQueuingForExcluded(t.publication.doi)},attrs:{id:t.publication.doi,tabindex:"0"},on:{focus:t.activate,click:function(e){return e.stopPropagation(),t.activate.apply(null,arguments)}}},[e("tippy",{staticClass:"media-left",scopedSlots:t._u([{key:"trigger",fn:function(){return[e("div",{directives:[{name:"show",rawName:"v-show",value:t.publication.wasFetched,expression:"publication.wasFetched"}],staticClass:"glyph has-text-centered",style:{"background-color":t.publication.scoreColor}},[e("div",{staticClass:"tooltip-target"},[e("div",{staticClass:"is-size-3 is-inline-block"},[t._v(" "+t._s(t.publication.score)+" ")]),t.publication.boostFactor>1?e("div",{staticClass:"boost-indicator",class:t.chevronType},[e("b-icon",{attrs:{icon:t.chevronType,size:"is-small"}})],1):t._e()]),e("div",{staticClass:"reference-counts is-size-6"},[e("div",{staticClass:"is-pulled-left"},[t.publication.citationCount>0||0===t.publication.referenceDois.length?e("span",{class:t.publication.referenceDois.length?"":"unknown"},[e("b-icon",{attrs:{icon:"arrow-bottom-left-thick",size:"is-small"}}),t._v(" "+t._s(t.publication.citationCount?t.publication.citationCount:"-")+" ")],1):t._e()]),e("div",{staticClass:"is-pulled-right"},[t.publication.referenceCount>0?e("span",[t._v(" "+t._s(t.publication.referenceCount)+" "),e("b-icon",{attrs:{icon:"arrow-top-left-thick",size:"is-small"}})],1):t._e()])])])]},proxy:!0}])},[e("div",[t._v(" Suggestion score of "),e("b",[t._v(t._s(t.publication.score)+" = "),1!=t.publication.boostFactor?e("span",[t._v("(")]):t._e(),t._v(t._s(t.publication.citationCount)+" + "+t._s(t.publication.referenceCount)),1!=t.publication.boostFactor?e("span",[t._v(") Â· "+t._s(t.publication.boostFactor))]):t._e()]),t._v(","),e("br"),t._v(" citing "),e("b",[t._v(t._s(t.publication.citationCount))]),t._v(" ("),e("b-icon",{class:t.publication.referenceDois.length?"":"unknown",attrs:{icon:"arrow-bottom-left-thick",size:"is-small"}}),t.publication.referenceDois.length?t._e():e("span",{staticClass:"unknown"},[t._v(", citing data not available")]),t._v(") and cited by "),e("b",[t._v(t._s(t.publication.referenceCount))]),t._v(" ("),e("b-icon",{attrs:{icon:"arrow-top-left-thick",size:"is-small"}}),t._v(") selected publications"),1!=t.publication.boostFactor?e("span",[t._v(", multiplied by a boost factor of "),e("b",[t._v(t._s(t.publication.boostFactor)+" = 2"),e("sup",[t._v(t._s(t.publication.boostMatches))])]),t._v(" ("),e("b-icon",{attrs:{icon:t.chevronType,size:"is-small"}}),t._v("; "+t._s(t.publication.boostMatches)+" keyword"),t.publication.boostMatches>1?e("span",[t._v("s")]):t._e(),t._v(" matched)")],1):t._e(),t._v(". ")],1),t.publication.isLinkedToActive?e("div",[e("br"),t._v(" Marked as refered by or referencing currently active publication. ")]):t._e(),t.publication.isActive?e("div",[e("br"),t._v(" Currently active, with linked publications highlighted. ")]):t._e()]),e("div",{staticClass:"media-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.publication.wasFetched,expression:"publication.wasFetched"}],staticClass:"summary"},[t.publication.title?e("span",[e("b",[e("span",{domProps:{innerHTML:t._s(t.publication.titleHighlighted?t.publication.titleHighlighted:t.publication.title)}})]),t._v("â€‚")]):t._e(),t.publication.title?t._e():e("span",{staticClass:"unknown"},[e("b",[t._v("[unknown title] ")])]),e("span",[t._v("("),e("span",[t._v(t._s(t.publication.authorShort?t.publication.authorShort+", ":""))]),e("span",{class:t.publication.year?"":"unknown"},[t._v(t._s(t.publication.year?t.publication.year:"[unknown year]"))]),t._v(") ")]),e("b-taglist",[t.publication.hasTag()?e("b-icon",{staticClass:"mr-2",attrs:{icon:"tag",size:"is-small"}}):t._e(),t.publication.isHighlyCited?e("b-tag",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-dark",attrs:{icon:"star",size:"is-small","data-tippy-content":`Identified as highly cited: ${t.publication.isHighlyCited}.`}},[t._v("Highly cited")]):t._e(),t.publication.isSurvey?e("b-tag",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-dark",attrs:{icon:"table",size:"is-small","data-tippy-content":`Identified as literature survey: ${t.publication.isSurvey}.`}},[t._v("Literature survey")]):t._e(),t.publication.isNew?e("b-tag",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-dark",attrs:{icon:"alarm",size:"is-small","data-tippy-content":`Identified as new: ${t.publication.isNew}.`}},[t._v("New")]):t._e(),t.publication.isUnnoted?e("b-tag",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-dark",attrs:{icon:"alert-box-outline",size:"is-small","data-tippy-content":`Identified as yet unnoted: ${t.publication.isUnnoted}.`}},[t._v("Unnoted")]):t._e(),t.publication.isOpenAccess?e("b-tag",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-dark",attrs:{icon:"lock-open-check-outline",size:"is-small","data-tippy-content":"Identified as open access: open access link available."}},[t._v("Open access")]):t._e()],1)],1),t.publication.isActive?e("div",[e("span",[t.publication.author?e("span",{domProps:{innerHTML:t._s(t.publication.authorOrcid+(t.publication.authorOrcid.endsWith(".")?"":"."))},on:{click:function(e){return e.stopPropagation(),t.refocus.apply(null,arguments)},mouseup:function(e){return"button"in e&&1!==e.button?null:(e.stopPropagation(),t.refocus.apply(null,arguments))}}}):t._e()]),t.publication.container?e("span",[e("em",{domProps:{innerHTML:t._s(` ${t.publication.container}`)}}),t._v(". ")]):t._e(),t._m(0),e("a",{attrs:{href:t.publication.doiUrl},on:{click:function(e){return e.stopPropagation(),t.refocus.apply(null,arguments)},mouseup:function(e){return"button"in e&&1!==e.button?null:(e.stopPropagation(),t.refocus.apply(null,arguments))}}},[t._v(t._s(t.publication.doi))])]):t._e(),!t.publication.year&&!t.publication.title&!t.publication.author&&!t.publication.container&&t.publication.isActive?e("div",{staticClass:"notification has-background-danger-light has-text-danger-dark"},[t._v(" No metadata could be retrieved for the publication from "),e("a",{attrs:{href:`https://opencitations.net/index/coci/api/v1/metadata/${t.publication.doi}`},on:{click:function(e){return e.stopPropagation(),t.refocus.apply(null,arguments)},mouseup:function(e){return"button"in e&&1!==e.button?null:(e.stopPropagation(),t.refocus.apply(null,arguments))}}},[t._v("Open Citations")]),t._v(". "),0===t.publication.score?e("span",[t._v("Also, it is not cited by another selected publicationâ€”"),e("b",[t._v("please check if the DOI is correct.")])]):t._e()]):t._e(),!t.publication.year&&t.publication.isActive?e("div",{staticClass:"notification has-background-danger-light has-text-danger-dark"},[t._v(" The publication cannot be shown in the citation network visualization because of the unknown publication year. ")]):t._e(),t.publication.isActive?e("div",{staticClass:"stats-and-links level"},[e("div",{staticClass:"level-left"},[e("div",{class:"level-item "+(t.publication.referenceDois.length?"":"unknown")},[e("label",[e("b-icon",{attrs:{icon:"arrow-bottom-left-thick",size:"is-small"}}),t._v("Citing:")],1),e("b",[t._v(t._s(t.publication.referenceDois.length?t.publication.referenceDois.length.toLocaleString("en"):"not available"))])]),e("div",{staticClass:"level-item"},[e("label",[e("b-icon",{attrs:{icon:"arrow-top-left-thick",size:"is-small"}}),t._v("Cited by:")],1),e("b",[t._v(t._s(t.publication.citationDois.length.toLocaleString("en")))]),t.publication.citationsPerYear>0?e("span",[t._v(" Â ("+t._s(t.publication.citationsPerYear.toFixed(1))+"/year) ")]):t._e()])]),t.publication.title&&t.publication.isActive?e("div",{staticClass:"level-right"},[e("div",{staticClass:"level-item"},[t.publication.abstract?e("a",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{"data-tippy-content":"Abs<span class='key'>t</span>ract"},on:{click:function(e){return e.stopPropagation(),t.showAbstract.apply(null,arguments)},mouseup:function(e){return"button"in e&&1!==e.button?null:(e.stopPropagation(),t.showAbstract.apply(null,arguments))},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.showAbstract.apply(null,arguments)}}},[e("b-icon",{attrs:{icon:"text"}})],1):t._e(),t.publication.oaLink?e("a",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml-5",attrs:{href:t.publication.oaLink,"data-tippy-content":"<span class='key'>O</span>pen access"},on:{click:function(e){return e.stopPropagation(),t.refocus.apply(null,arguments)},mouseup:function(e){return"button"in e&&1!==e.button?null:(e.stopPropagation(),t.refocus.apply(null,arguments))}}},[e("b-icon",{attrs:{icon:"lock-open-check-outline"}})],1):t._e(),e("a",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml-5",attrs:{href:t.publication.gsUrl,"data-tippy-content":"<span class='key'>G</span>oogle Scholar"},on:{click:function(e){return e.stopPropagation(),t.refocus.apply(null,arguments)},mouseup:function(e){return"button"in e&&1!==e.button?null:(e.stopPropagation(),t.refocus.apply(null,arguments))}}},[e("b-icon",{attrs:{icon:"school"}})],1),e("a",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml-5",attrs:{"data-tippy-content":"Export as BibTe<span class='key'>X</span> citation"},on:{click:function(e){return e.stopPropagation(),t.exportBibtex.apply(null,arguments)},mouseup:function(e){return"button"in e&&1!==e.button?null:(e.stopPropagation(),t.exportBibtex.apply(null,arguments))},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.exportBibtex.apply(null,arguments)}}},[e("b-icon",{attrs:{icon:"format-quote-close"}})],1)])]):t._e()]):t._e()]),e("div",{staticClass:"media-right"},[e("div",[t.suggestion?e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-primary is-small",attrs:{"icon-left":"plus-thick","data-tippy-content":"Mark publication to be added to selected publications."},on:{click:function(e){return e.stopPropagation(),t.$emit("add",t.publication.doi)}}}):t._e()],1),e("div",[e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-small",attrs:{"icon-left":"minus-thick","data-tippy-content":"Mark publication to be excluded for suggestions."},on:{click:function(e){return e.stopPropagation(),t.sessionStore.queueForExcluded(t.publication.doi)}}})],1)])],1)],1)},Z=[function(){var t=this,e=t._self._c;return e("label",[e("span",{staticClass:"key"},[t._v("D")]),t._v("OI:")])}],J={name:"PublicationComponent",setup(){const t=E(),e=u();return{sessionStore:t,interfaceStore:e}},props:{publication:Object,suggestion:Boolean},computed:{chevronType:function(){return this.publication.boostFactor>=8?"chevron-triple-up":this.publication.boostFactor>=4?"chevron-double-up":this.publication.boostFactor>1?"chevron-up":""}},methods:{activate:function(){this.sessionStore.activatePublicationComponentByDoi(this.publication.doi),this.$emit("activate",this.publication.doi)},showAbstract:function(){this.interfaceStore.showAbstract(this.publication)},exportBibtex:function(){this.sessionStore.exportSingleBibtex(this.publication),this.refocus()},refocus:function(){document.getElementById(this.publication.doi).focus()}}},W=J,G=(0,D.Z)(W,j,Z,!1,null,null,null),X=G.exports,V={name:"SelectedPublicationsComponent",components:{PublicationComponent:X},props:{publications:Array,suggestion:Boolean},watch:{publications:{deep:!0,handler:function(){this.$nextTick(this.scrollToActivated)}}},data(){return{onNextActivatedScroll:!0}},methods:{addPublication:function(t){this.$emit("add",t)},activatePublication:function(){this.onNextActivatedScroll=!1},scrollToActivated(){if(this.onNextActivatedScroll){const t=this.$el.getElementsByClassName("active")[0];t&&(window.innerWidth<=1023?x(t,65):t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}))}else this.onNextActivatedScroll=!0}}},tt=V,et=(0,D.Z)(tt,z,H,!1,null,null,null),it=et.exports,st={name:"SelectedPublicationsComponent",setup(){const t=E(),e=u();return{sessionStore:t,interfaceStore:e}},components:{BoostKeywordsComponent:Y,PublicationListComponent:it},mounted(){this.sessionStore.$onAction((({name:t,after:e})=>{e((()=>{"updateQueued"===t&&(this.$refs.publicationList.$el.scrollTop=0)}))}))},methods:{importSession:function(){this.$buefy.dialog.confirm({title:"Import session",message:'<label>Choose an exported session JSON file:&nbsp;</label>\n            <input type="file" id="import-json-input" accept="application/JSON"/>',onConfirm:()=>this.sessionStore.importSession(document.getElementById("import-json-input").files[0])})}}},ot=st,at=(0,D.Z)(ot,Q,M,!1,null,"56a089ae",null),nt=at.exports,rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"suggested-publications box has-background-info"},[e("div",{staticClass:"level box-header"},[e("div",{staticClass:"level-left has-text-white"},[e("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"level-item",attrs:{"data-tippy-content":"The <b>suggested publications</b> based on references to and from the selected publications, sorted by score."}},[e("b-icon",{attrs:{icon:"water-plus-outline"}}),e("h2",{staticClass:"is-size-5 ml-2"},[t._v("Suggested")])],1)]),t.sessionStore.suggestion?e("div",{staticClass:"level-right has-text-white"},[e("div",{staticClass:"level-item"},[e("tippy",{scopedSlots:t._u([{key:"trigger",fn:function(){return[e("div",[e("span",[e("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.isFilterPanelShown,expression:"isFilterPanelShown"}],attrs:{icon:"filter",size:"is-small"}}),t._v(" "+t._s(t.sessionStore.suggestedPublicationsFiltered.length)+" "),t.sessionStore.unreadSuggestionsCount>0?e("b-tag",{attrs:{icon:"bell",size:"is-small"}},[t._v(t._s(t.sessionStore.unreadSuggestionsCount))]):t._e(),t._v(" of "+t._s(t.sessionStore.suggestion.totalSuggestions.toLocaleString("en"))+" ")],1)])]},proxy:!0}],null,!1,2390841055)},[e("div",[e("b",[t._v(t._s(t.sessionStore.suggestedPublicationsFiltered.length))]),t._v(" suggested publication"+t._s(t.sessionStore.suggestedPublicationsFiltered.length>1?"s":"")+" "),t.sessionStore.unreadSuggestionsCount>0?e("span",[e("b",[t._v("("+t._s(t.sessionStore.unreadSuggestionsCount))]),t._v(" of them unread) ")]):t._e(),t.isFilterPanelShown?e("span",[t._v(" filtered from "),e("b",[t._v(t._s(t.sessionStore.suggestedPublications.length))]),t._v(" loaded ones, ")]):t._e(),t._v(" of in total "),e("b",[t._v(" "+t._s(t.sessionStore.suggestion.totalSuggestions.toLocaleString("en")))]),t._v(" cited/citing publication"+t._s(t.sessionStore.suggestion.totalSuggestions>1?"s":"")+". ")])]),e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"compact-button",attrs:{"icon-left":"playlist-plus","data-tippy-content":"Load more suggested publications.",disabled:t.sessionStore.suggestedPublications.length===t.sessionStore.suggestion.totalSuggestions},on:{click:function(e){return e.stopPropagation(),t.sessionStore.loadMoreSuggestions()}}})],1),t.sessionStore.suggestion?e("div",{staticClass:"level-item"},[e("b-field",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml-5",attrs:{"data-tippy-content":"Activate/deactivate <b>filter</b> to restrict suggested publications by different criteria."}},[e("b-switch",{attrs:{type:"is-black"},model:{value:t.isFilterPanelShown,callback:function(e){t.isFilterPanelShown=e},expression:"isFilterPanelShown"}},[e("b-icon",{attrs:{icon:"filter",size:"is-small"}}),t._v("Â "),e("span",{staticClass:"key"},[t._v("F")]),t._v("ilter")],1)],1)],1):t._e()]):t._e()]),e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isFilterPanelShown,expression:"isFilterPanelShown"}],staticClass:"notification has-background-info-light p-2 pt-3 columns is-gapless"},[e("div",{staticClass:"column"},[e("b-field",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{label:"Search","label-position":"on-border","data-tippy-content":"Filter by <b>search in meta-data</b> such as title, authors, and journal name."}},[e("p",{staticClass:"control"},[e("b-button",{staticClass:"is-static",class:{active:t.filterString},attrs:{"icon-left":"card-search"}})],1),e("b-input",{attrs:{placeholder:"Text","icon-right":"close-circle","icon-right-clickable":"",expanded:""},on:{input:t.updateFilter,"icon-right-click":t.clearFilterString},model:{value:t.filterString,callback:function(e){t.filterString=e},expression:"filterString"}})],1)],1),e("div",{staticClass:"column"},[e("b-field",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{label:"Year","label-position":"on-border","data-tippy-content":"Filter by <b>publication year</b> (leave blank for unrestricted start/end year)."}},[e("p",{staticClass:"control"},[e("b-button",{staticClass:"is-static",class:{active:t.sessionStore.filter.isYearActive()},attrs:{"icon-left":"calendar"}})],1),e("b-field",{attrs:{expanded:""}},[e("b-input",{attrs:{id:"filter-year-start",placeholder:"From",type:"text",pattern:"\\d\\d\\d\\d","validation-message":"Enter a four-digit year."},on:{input:t.updateFilter},model:{value:t.filterYearStart,callback:function(e){t.filterYearStart=e},expression:"filterYearStart"}})],1),e("b-field",{attrs:{expanded:""}},[e("b-input",{attrs:{id:"filter-year-end",placeholder:"To",type:"text",pattern:"\\d\\d\\d\\d","validation-message":"Enter a four-digit year."},on:{input:t.updateFilter},model:{value:t.filterYearEnd,callback:function(e){t.filterYearEnd=e},expression:"filterYearEnd"}})],1)],1)],1),e("div",{staticClass:"column"},[e("b-field",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{label:"Tag","label-position":"on-border","data-tippy-content":"Filter by automatically <b>assigned tag</b>."}},[e("p",{staticClass:"control"},[e("b-button",{staticClass:"is-static",class:{active:t.filterTag},attrs:{"icon-left":"tag"}})],1),e("b-select",{class:{inactive:!t.filterTag},attrs:{id:"filter-tag",expanded:""},on:{input:t.updateFilter},model:{value:t.filterTag,callback:function(e){t.filterTag=e},expression:"filterTag"}},[e("option",{attrs:{value:""}},[t._v("None/any")]),t._l(t.TAGS,(function(i){return e("option",{key:i.value,domProps:{value:i.value}},[t._v(" "+t._s(i.name)+" ")])}))],2)],1)],1)])]),e("PublicationListComponent",{ref:"publicationList",attrs:{publications:t.sessionStore.suggestedPublicationsFiltered,suggestion:!0},on:{add:t.addPublication}})],1)},ct=[],lt={name:"SuggestedPublicationsComponent",setup(){const t=E(),e=u(),{isFilterPanelShown:i}=(0,n.Jk)(e);return{sessionStore:t,isFilterPanelShown:i}},components:{PublicationListComponent:it},props:{title:String},data(){return{TAGS:m.TAGS,filterString:"",filterYearStart:"",filterYearEnd:"",filterTag:""}},watch:{isFilterPanelShown:{handler:function(){this.updateFilter()}}},mounted(){this.sessionStore.$onAction((({name:t,after:e})=>{e((()=>{"updateQueued"===t&&(this.$refs.publicationList.$el.scrollTop=0)}))}))},methods:{addPublication:function(t){this.sessionStore.queueForSelected(t)},updateFilter:function(){this.isFilterPanelShown?(this.sessionStore.filter.string=this.filterString,this.sessionStore.filter.yearStart=this.filterYearStart,this.sessionStore.filter.yearEnd=this.filterYearEnd,this.sessionStore.filter.tag=this.filterTag):this.sessionStore.filter=new k},clearFilterString:function(){this.filterString="",this.updateFilter()}}},ut=lt,dt=(0,D.Z)(ut,rt,ct,!1,null,"04fc70fa",null),pt=dt.exports,ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"network-of-references"},[e("div",{staticClass:"box has-background-grey"},[e("div",{staticClass:"level"},[e("div",{staticClass:"level-left has-text-white"},[e("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"level-item",attrs:{"data-tippy-content":"Showing publications as nodes (<b class='has-text-primary'>selected</b>; <b class='has-text-info'>suggested</b>) with citations as links.<br><br>You can click a publication for details as well as zoom and pan the diagram."}},[e("b-icon",{attrs:{icon:"chart-bubble"}}),e("h2",{staticClass:"is-size-5 ml-2"},[t._v("Citation network")])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.sessionStore.isEmpty,expression:"!sessionStore.isEmpty"}],staticClass:"level-right"},[e("b-field",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"level-item has-text-white mr-4 mb-0",attrs:{"data-tippy-content":"There are two display <span class='key'>m</span>odes:<br><br><b>Timeline:</b> The diagram places publications from left to right based on year, and vertically tries to group linked publications close to each other.<br><br><b>Clusters:</b> The diagram groups linked publications close to each other, irrespective of publication year."}},[e("label",{staticClass:"mr-2"},[e("span",{staticClass:"key"},[t._v("M")]),t._v("ode:")]),e("label",{staticClass:"mr-2",class:{"has-text-grey-light":t.isNetworkClusters}},[t._v(" Timeline")]),e("b-switch",{attrs:{type:"is-dark","passive-type":"is-dark"},nativeOn:{click:function(t){t.stopPropagation()}},model:{value:t.isNetworkClusters,callback:function(e){t.isNetworkClusters=e},expression:"isNetworkClusters"}}),e("label",{class:{"has-text-grey-light":!t.isNetworkClusters}},[t._v("Clusters")])],1),e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"},{name:"show",rawName:"v-show",value:!t.interfaceStore.isNetworkExpanded,expression:"!interfaceStore.isNetworkExpanded"}],staticClass:"level-item compact-button is-hidden-touch",attrs:{"icon-right":"arrow-expand","data-tippy-content":"Expand diagram"},on:{click:function(e){e.stopPropagation(),t.interfaceStore.isNetworkExpanded=!0}}}),e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"},{name:"show",rawName:"v-show",value:t.interfaceStore.isNetworkExpanded,expression:"interfaceStore.isNetworkExpanded"}],staticClass:"level-item compact-button is-hidden-touch",attrs:{"icon-right":"arrow-collapse","data-tippy-content":"Collapse diagram"},on:{click:function(e){e.stopPropagation(),t.interfaceStore.isNetworkExpanded=!1}}})],1)]),e("div",{attrs:{id:"network-svg-container"}},[e("svg",{attrs:{id:"network-svg",width:"100%",height:"100%"}})])])])},bt=[],vt=i(9325),gt=i(6488);i(6718);const ft=20,mt=1.5,yt=20,wt=.4;var St={name:"NetworkVisComponent",setup(){const t=E(),{filter:e,activePublication:i}=(0,n.Jk)(t),s=u(),{isNetworkClusters:o}=(0,n.Jk)(s);return{sessionStore:t,filter:e,activePublication:i,interfaceStore:s,isNetworkClusters:o}},data:function(){return{graph:{nodes:[],links:[]},simulation:null,svg:null,svgHeight:Number,svgWidth:Number,node:null,link:null,label:null}},watch:{isNetworkClusters:{handler:function(){this.plot(!0)}},filter:{deep:!0,handler:function(){this.plot(!0)}},activePublication:{handler:function(){this.interfaceStore.isLoading||this.plot()}}},mounted(){const t=this,e=document.getElementById("network-svg-container");this.svgWidth=e.clientWidth,this.svgHeight=e.clientHeight,this.svg=vt.Ys("#network-svg").call(vt.sPX().on("zoom",((e,i)=>{t.svg.attr("transform",e.transform)}))).append("g"),this.simulation=vt.A4v(),this.simulation.alphaDecay(.02),this.label=this.svg.append("g").attr("class","labels").selectAll("text"),this.link=this.svg.append("g").attr("class","links").selectAll("path"),this.node=this.svg.append("g").attr("class","nodes").selectAll("rect"),this.sessionStore.$onAction((({name:t,after:e})=>{e((()=>{"updateScores"===t?this.plot(!0):(!this.interfaceStore.isLoading&&"clear"===t||"queueForSelected"===t||"queueForExcluded"===t||"removeFromQueues"===t||"clearQueues"===t)&&this.plot()}))}))},methods:{initForces:function(){const t=this;this.simulation.force("link",vt.Fsl().id((t=>t.id)).distance((e=>t.isNetworkClusters&&e.internal?500/t.sessionStore.selectedPublications.length:"keyword"===e.type?0:10)).strength((e=>{const i=e.internal?1:.5,s=t.isNetworkClusters?1:.5;return.15*s*i}))).force("charge",vt.q5i().strength(Math.min(-200,-100*Math.sqrt(t.sessionStore.selectedPublications.length)))).force("x",vt.RUJ().x((e=>t.isNetworkClusters?.5*(t.svgWidth-ft):this.yearX(e.publication?e.publication.year:2025))).strength(t.isNetworkClusters?.05:10)).force("y",vt.Mrm().y(.5*(t.svgHeight-ft)).strength(t.isNetworkClusters?.1:.25)).on("tick",this.tick)},plot:function(t){try{console.log(`Plotting citation network ${t?"with":"without"} restarting layout computation.`),this.initForces(),e.call(this),o.call(this),a.call(this),n.call(this),this.simulation.nodes(this.graph.nodes),this.simulation.force("link").links(this.graph.links),t&&this.simulation.alpha(wt),this.simulation.restart()}catch(r){console.error("Cannot plot network: "+r.message),this.interfaceStore.showErrorMessage("Sorry, an error occurred while plotting the citation network.")}function e(){this.doiToIndex={};const t=i.call(this),e=s.call(this),o=new Map(this.node.data().map((t=>[t.id,t])));this.graph.nodes=t.map((t=>Object.assign(o.get(t.id)||{x:this.svgWidth/2,y:0},t))),this.graph.links=e.map((t=>Object.assign({},t)))}function i(){const t=[];let e=0;this.sessionStore.publicationsFiltered.forEach((i=>{i.year&&(this.doiToIndex[i.doi]=e,t.push({id:i.doi,publication:i,isQueuingForSelected:this.sessionStore.isQueuingForSelected(i.doi),isQueuingForExcluded:this.sessionStore.isQueuingForExcluded(i.doi)}),e++)}));const i=[];this.sessionStore.uniqueBoostKeywords.forEach((t=>{const e=this.sessionStore.publications.filter((e=>e.boostKeywords.includes(t))).length;i.push({id:t,frequency:e})}));const s=t.concat(i);return s}function s(){const t=[];return this.sessionStore.uniqueBoostKeywords.forEach((e=>{this.sessionStore.publicationsFiltered.forEach((i=>{i.boostKeywords.includes(e)&&t.push({source:e,target:i.doi,type:"keyword"})}))})),this.sessionStore.selectedPublications.forEach((e=>{e.doi in this.doiToIndex&&(e.citationDois.forEach((i=>{i in this.doiToIndex&&t.push({source:i,target:e.doi,type:"citation",internal:this.sessionStore.isSelected(i)})})),e.referenceDois.forEach((i=>{i in this.doiToIndex&&t.push({source:e.doi,target:i,type:"citation",internal:this.sessionStore.isSelected(i)})})))})),t}function o(){this.node=this.node.data(this.graph.nodes,(t=>t.id)).join((t=>{const e=t.append("g").attr("class",(t=>"node-container "+(t.publication?"publication":"keyword"))),i=e.filter((t=>t.publication));i.append("rect"),i.append("text").classed("score",!0),i.append("text").classed("labelQueuingForSelected",!0).attr("x",15).attr("y",15).text("+"),i.append("text").classed("labelQueuingForExcluded",!0).attr("x",15).attr("y",15).text("-"),i.append("circle"),i.on("click",this.activatePublication);const s=e.filter((t=>!t.publication));return s.append("text"),s.call(this.keywordNodeDrag()).on("click",this.keywordNodeClick),e}));try{t.call(this)}catch(r){throw new Error("Cannot update publication nodes in network: "+r.message)}try{e.call(this)}catch(r){throw new Error("Cannot update keyword nodes in network: "+r.message)}function t(){const t=this.node.filter((t=>t.publication));t.classed("selected",(t=>t.publication.isSelected)).classed("suggested",(t=>!t.publication.isSelected)).classed("active",(t=>t.publication.isActive)).classed("linkedToActive",(t=>t.publication.isLinkedToActive)).classed("queuingForSelected",(t=>t.isQueuingForSelected)).classed("queuingForExcluded",(t=>t.isQueuingForExcluded)),this.publicationTooltips&&this.publicationTooltips.forEach((t=>t.destroy())),t.attr("data-tippy-content",(t=>`<b>${t.publication.title?t.publication.title:"[unknown title]"}</b> (${t.publication.authorShort?t.publication.authorShort+", ":""}${t.publication.year?t.publication.year:"[unknown year]"})\n              <br><br>\n              The publication is ${t.publication.isSelected?"selected":"suggested"}${t.isQueuingForSelected?" and marked to be added to selected publications":""}${t.isQueuingForExcluded?" and marked to be added to excluded publications":""}.`)),this.publicationTooltips=(0,gt.ZP)(t.nodes(),{maxWidth:"min(400px,70vw)",allowHTML:!0}),t.select("rect").attr("width",(t=>i(t))).attr("height",(t=>i(t))).attr("x",(t=>-i(t)/2)).attr("y",(t=>-i(t)/2)).attr("stroke-width",(t=>t.publication.isActive?4:3)).attr("fill",(t=>t.publication.scoreColor)),t.select(".publication text.score").classed("unread",(t=>!t.publication.isRead&&!t.publication.isSelected)).attr("y",1).attr("font-size","0.8em").text((t=>t.publication.score)),t.select("circle").attr("cx",(t=>i(t)/2-1)).attr("cy",(t=>-i(t)/2+1)).attr("r",(t=>t.publication.boostFactor>1?s(t)/6:0)).attr("stroke","black")}function e(){const t=this.node.filter((t=>!t.publication));t.classed("linkedToActive",(t=>this.sessionStore.isKeywordLinkedToActive(t.id))),this.keywordTooltips&&this.keywordTooltips.forEach((t=>t.destroy())),t.attr("data-tippy-content",(t=>`Keyword "${t.id}" is matched in ${t.frequency} publication${t.frequency>1?"s":""}${this.sessionStore.isKeywordLinkedToActive(t.id)?", and also linked to the currently active publication":""}.<br><br>Drag to reposition (sticky), click to detach.`)),this.keywordTooltips=(0,gt.ZP)(t.nodes(),{maxWidth:"min(400px,70vw)",allowHTML:!0}),t.select("text").attr("y",1).attr("font-size",(t=>t.frequency>=25?"1.1em":t.frequency>=10?"0.9em":t.frequency>=5?"0.8em":"0.7em")).text((t=>t.id.includes("|")?t.id.split("|")[0]+"|..":t.id))}function i(t){return ft*(t.publication.isActive?mt:1)}function s(t){let e=1;return t.publication.boostFactor>=8?e=1.8:t.publication.boostFactor>=4?e=1.5:t.publication.boostFactor>1&&(e=1.2),i(t)*e*.8}}function a(){this.link=this.link.data(this.graph.links,(t=>[t.source,t.target])).join("path")}function n(){if(0===this.sessionStore.publicationsFiltered.length)return;const t=h().range(this.sessionStore.yearMin-4,this.sessionStore.yearMax+1).filter((t=>t%5===0));this.label=this.label.data(t,(t=>t)).join((t=>{const e=t.append("g");return e.append("text"),e.append("text"),e})),this.label.selectAll("text").attr("text-anchor","middle").attr("visibility",this.sessionStore.isEmpty||this.isNetworkClusters?"hidden":"visible").text((t=>t)).attr("fill","grey"),this.sessionStore.isEmpty||this.label.attr("transform",(t=>`translate(${this.yearX(t)},${this.svgHeight-yt})`)).select("text").attr("y",-this.svgHeight+2*yt)}},tick:function(){this.link.attr("d",(t=>{const e=t.target.x-t.source.x,i=t.target.y-t.source.y;if("citation"===t.type){const s=Math.pow(e*e+i*i,.6);return`M${t.target.x},${t.target.y}A${s},${s} 0 0,1 ${t.source.x},${t.source.y}`}const s=Math.sqrt(Math.pow(e,2)+Math.pow(i,2)),o=Math.acos(e/s),a=2/s,n=s*Math.cos(o+a);let r=s*Math.sin(o+a);const c=s*Math.cos(o-a);let l=s*Math.sin(o-a);return t.source.y>t.target.y&&(r=-r,l=-l),`M${t.target.x-n},${t.target.y-r}\n            L${t.target.x},${t.target.y}\n            L${t.target.x-c},${t.target.y-l}`})).attr("class",(t=>{const e=[t.type];return"citation"===t.type&&((t.source.publication.isActive||t.target.publication.isActive)&&e.push("active"),t.source.publication.isSelected&&t.target.publication.isSelected||e.push("external")),e.join(" ")})),this.node.attr("transform",(t=>`translate(${t.x}, ${t.y})`))},keywordNodeDrag:function(){const t=this;function e(){vt.Ys(this).classed("fixed",!0)}function i(e,i){i.fx=e.x,i.fy=e.y,t.simulation.alpha(wt).restart()}return vt.ohM().on("start",e).on("drag",i)},keywordNodeClick:function(t,e){delete e.fx,delete e.fy,vt.Ys(t.target.parentNode).classed("fixed",!1),this.simulation.alpha(wt).restart()},yearX:function(t){return(t-this.sessionStore.yearMin)/Math.sqrt(1+this.sessionStore.yearMax-this.sessionStore.yearMin)*this.svgWidth*.15},activatePublication:function(t,e){this.sessionStore.activatePublicationComponentByDoi(e.publication.doi),t.stopPropagation()},toggleMode(){this.isNetworkClusters=!this.isNetworkClusters}}},Ct=St,kt=(0,D.Z)(Ct,ht,bt,!1,null,null,null),_t=kt.exports,xt=function(){var t=this,e=t._self._c;return e("div",[e("button",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.isUpdatable,expression:"sessionStore.isUpdatable"}],staticClass:"button has-background-primary has-text-white",attrs:{id:"quick-access-update"},on:{click:t.sessionStore.updateQueued}},[e("b-icon",{attrs:{icon:"update",size:"is-small"}}),e("div",{staticClass:"button-label"},[t._v("Update")])],1),e("button",{staticClass:"button has-background-primary has-text-white",class:{active:t.isComponentActive.selected},on:{click:function(e){return t.scrollTo("selected")}}},[e("b-icon",{attrs:{icon:"water-outline"}}),e("div",{staticClass:"button-label"},[t._v("Selected")])],1),e("button",{staticClass:"button has-background-info has-text-white",class:{active:t.isComponentActive.suggested},on:{click:function(e){return t.scrollTo("suggested")}}},[e("b-icon",{attrs:{icon:"water-plus-outline"}}),e("div",{staticClass:"button-label"},[t._v("Suggested")])],1),e("button",{staticClass:"button has-background-grey has-text-white",class:{active:t.isComponentActive.network},on:{click:function(e){return t.scrollTo("network")}}},[e("b-icon",{attrs:{icon:"chart-bubble"}}),e("div",{staticClass:"button-label"},[t._v("Network")])],1)])},Pt=[],Et={name:"QuickAccessBar",setup(){const t=E();return{sessionStore:t}},mounted(){document.addEventListener("scroll",this.updateActiveButton)},data(){return{isComponentActive:{selected:!0,suggested:!1,network:!1}}},methods:{scrollTo(t){x(document.getElementById(t),55)},updateActiveButton(){this.isComponentActive={selected:!1,suggested:!1,network:!1};const t=.7*document.documentElement.clientHeight;for(const e of Object.keys(this.isComponentActive)){const i=document.getElementById(e),s=i.getBoundingClientRect();if(this.isComponentActive[e]=s.top>=0&&s.top<=t||s.top<0&&s.bottom>t,this.isComponentActive[e])break}}}},Nt=Et,At=(0,D.Z)(Nt,xt,Pt,!1,null,"41dfca4e",null),$t=At.exports,Ft=function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{active:t.interfaceStore.isSearchPanelShown},on:{close:t.cancel}},[e("div",{staticClass:"card"},[e("header",{staticClass:"card-header has-background-primary"},[e("p",{staticClass:"card-header-title has-text-white"},[e("b-icon",{attrs:{icon:"magnify"}}),t._v("â€‚Search/import publications ")],1)]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"content"},[e("section",[e("form",{staticClass:"field has-addons mb-2",on:{submit:function(e){return e.preventDefault(),t.search.apply(null,arguments)}}},[e("p",{staticClass:"control is-expanded m-0"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.interfaceStore.searchQuery,expression:"interfaceStore.searchQuery"}],ref:"searchInput",staticClass:"input search-publication",attrs:{type:"text"},domProps:{value:t.interfaceStore.searchQuery},on:{input:function(e){e.target.composing||t.$set(t.interfaceStore,"searchQuery",e.target.value)}}})]),e("p",{staticClass:"control"},[e("b-button",{staticClass:"button level-right has-background-primary-light",attrs:{type:"submit","icon-left":"magnify"},on:{click:function(e){return e.stopPropagation(),t.search.apply(null,arguments)}}})],1)]),e("p",{staticClass:"notification has-background-primary-light p-2 mb-2"},[e("span",{directives:[{name:"show",rawName:"v-show",value:"empty"===t.searchResults.type,expression:"searchResults.type === 'empty'"}]},[e("i",[e("b",[t._v("Search")]),t._v(" for keywords, names, etc. "),e("b",[t._v("or import")]),t._v(" as "),e("a",{staticClass:"href",attrs:{href:"https://www.doi.org/"}},[t._v("DOI(s)")]),t._v(" contained in any format.")])]),e("span",{directives:[{name:"show",rawName:"v-show",value:["doi","search"].includes(t.searchResults.type),expression:"['doi', 'search'].includes(searchResults.type)"}]},[t._v("Showing "),e("b",[t._v(t._s(t.filteredSearchResults.length)+" publication"+t._s(1!=t.filteredSearchResults.length?"s":""))]),t._v(" based on "),e("span",{directives:[{name:"show",rawName:"v-show",value:"doi"===t.searchResults.type,expression:"searchResults.type === 'doi'"}]},[t._v("detected "),e("b",[t._v("DOIs")])]),e("span",{directives:[{name:"show",rawName:"v-show",value:"search"===t.searchResults.type,expression:"searchResults.type === 'search'"}]},[e("b",[t._v("search")])]),t._v(".")]),e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"},{name:"show",rawName:"v-show",value:"doi"===t.searchResults.type&&t.searchResults.results.length>0,expression:"\n                searchResults.type === 'doi' &&\n                searchResults.results.length > 0\n              "}],staticClass:"compact-button ml-4 has-background-primary",attrs:{"icon-left":"plus-thick","data-tippy-content":"Mark publication to be added to selected publications."},on:{click:function(e){return e.stopPropagation(),t.addAllPublications.apply(null,arguments)}}},[t._v("Add all")])],1),e("ul",{staticClass:"publication-list"},[t._l(t.filteredSearchResults,(function(i){return e("li",{key:i.doi,staticClass:"publication-component media"},[e("div",{staticClass:"media-content"},[i.wasFetched&&!i.title?e("b",{staticClass:"has-text-danger-dark"},[t._v("[No metadata available]")]):t._e(),i.wasFetched?e("b",{domProps:{innerHTML:t._s(i.title)}}):t._e(),i.author?e("span",[t._v(" ("),e("span",[t._v(t._s(i.authorShort?i.authorShort+", ":""))]),e("span",{class:i.year?"":"unknown"},[t._v(t._s(i.year?i.year:"[unknown year]"))]),t._v(")")]):t._e(),e("span",[t._v(" DOI: "),e("a",{attrs:{href:`https://doi.org/${i.doi}`}},[t._v(t._s(i.doi))])]),e("span",{directives:[{name:"show",rawName:"v-show",value:i.title,expression:"publication.title"}]},[e("a",{staticClass:"ml-2",attrs:{href:`https://scholar.google.de/scholar?hl=en&q=${i.title} ${i.author?i.author:""}`}},[e("b-icon",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{icon:"school",size:"is-small","data-tippy-content":"Google Scholar"}})],1)])]),e("div",{staticClass:"media-right"},[e("div",[e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-primary is-small",attrs:{"icon-left":"plus-thick","data-tippy-content":"Mark publication to be added to selected publications."},on:{click:function(e){return e.stopPropagation(),t.addPublication(i.doi)}}})],1)])])})),e("b-loading",{model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}})],2)])])]),e("footer",{staticClass:"card-footer level"},[e("div",{staticClass:"level-left"},[e("div",{staticClass:"level-item"},[e("p",[e("b",[e("span",{directives:[{name:"show",rawName:"v-show",value:0===t.addedPublications.length,expression:"addedPublications.length === 0"}]},[t._v("No")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.addedPublications.length>0,expression:"addedPublications.length > 0"}]},[t._v(t._s(t.addedPublications.length))]),t._v(" publication"),e("span",{directives:[{name:"show",rawName:"v-show",value:t.addedPublications.length>1,expression:"addedPublications.length > 1"}]},[t._v("s")])]),e("span",{directives:[{name:"show",rawName:"v-show",value:0===t.addedPublications.length,expression:"addedPublications.length === 0"}]},[t._v("Â yet marked")]),t._v(" to be added to selected. ")])])]),e("div",{staticClass:"level-right"},[e("b-button",{staticClass:"level-item",on:{click:function(e){return t.cancel()}}},[t._v("Cancel")]),e("b-button",{staticClass:"level-item is-primary",attrs:{disabled:0===t.addedPublications.length,"icon-left":"plus-thick"},on:{click:t.addAndClose}},[t._v("Add and update")])],1)])])])},Tt=[];class Dt{constructor(t){this.query=t}async execute(){let t=[],e=[];if(this.query.split(/ |"|\{|\}|%|#|\?|<|>|\[|\]|\\|\||`|\+|doi:|doi.org\//).forEach((i=>{if(i=h().trim(i,".,;"),0===i.indexOf("10.")&&!t.includes(i)){t.push(i);const s=new m(i);s.fetchData(),e.push(s)}})),t.length)return console.log(`Identified ${e.length} DOI(s) in input; do not perform search.`),{results:e,type:"doi"};const i=this.query.replace(/\W+/g,"+").toLowerCase();return console.log(`Searching for publications matching '${this.query}'.`),await g(`https://api.crossref.org/works?query=${i}&mailto=fabian.beck@uni-bamberg.de&filter=has-references:true`,(t=>{t.message.items.filter((t=>t.title)).forEach((t=>{const i=new m(t.DOI);i.fetchData(),e.push(i)}))})),{results:e,type:"search"}}computeTitleSimilarity(t,e){const i=["the","for","with","and"];let s=0,o=0,a=" "+e.replace(/\W+/g," ").toLowerCase()+" ";return t.split("+").forEach((t=>{t.length>2&&-1===i.indexOf(t)&&(o++,a.indexOf(" "+t+" ")>=0&&s++)})),s/o}}var Lt={name:"SearchPanel",setup(){const t=E(),e=u(),{isSearchPanelShown:i}=(0,n.Jk)(e);return{sessionStore:t,interfaceStore:e,isSearchPanelShown:i}},data(){return{searchResults:{results:[],type:"empty"},addedPublications:[],isLoading:!1}},computed:{filteredSearchResults:function(){return this.searchResults.results.filter((t=>!this.sessionStore.selectedPublicationsDois.includes(t.doi)&&!this.sessionStore.selectedQueue.includes(t.doi)&&!this.addedPublications.includes(t.doi)))}},watch:{isSearchPanelShown:{handler:function(){this.isSearchPanelShown&&(setTimeout((()=>{this.$refs.searchInput.focus()}),300),this.interfaceStore.searchQuery&&this.search())}}},methods:{search:async function(){if(!this.interfaceStore.searchQuery)return void(this.searchResults={results:[],type:"empty"});this.isLoading=!0;const t=new Dt(this.interfaceStore.searchQuery);this.searchResults=await t.execute(),0===this.filteredSearchResults.length&&this.interfaceStore.showErrorMessage("No matching publications found"),this.isLoading=!1},addPublication(t){this.addedPublications.push(t)},addAllPublications(){this.filteredSearchResults.forEach((t=>{this.addPublication(t.doi)})),this.searchResults={results:[],type:"empty"},this.interfaceStore.searchQuery=""},addAndClose(){this.sessionStore.addPublicationsAndUpdate(this.addedPublications),this.close()},cancel(){0!==this.addedPublications.length?this.interfaceStore.showConfirmDialog("Do you really want to discard the list of added publications?",(()=>{this.close()})):this.close()},close(){this.interfaceStore.isSearchPanelShown=!1,this.reset()},reset(){this.searchResults={results:[],type:"empty"},this.addedPublications=[],this.isLoading=!1}}},Ot=Lt,Qt=(0,D.Z)(Ot,Ft,Tt,!1,null,null,null),Mt=Qt.exports,Bt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card",attrs:{id:"about"}},[e("header",{staticClass:"card-header has-background-light"},[e("p",{staticClass:"card-header-title"},[e("b-icon",{attrs:{icon:"information-outline"}}),t._v("â€‚About ")],1)]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"content"},[e("section",[e("div",{staticClass:"level"},[e("div",{staticClass:"level-left"},[e("div",{staticClass:"level-item"},[e("span",{staticClass:"title",domProps:{innerHTML:t._s(this.$appNameHtml)}})]),e("div",{staticClass:"level-item"},[e("span",{staticClass:"subtitle"},[t._v(t._s(this.$appSubtitle))])])]),e("div",{staticClass:"level-right"},[e("span",{staticClass:"is-size-7 level-item"},[e("label",[t._v("Version:Â ")]),t._v(t._s(this.$version))])])]),t._m(0),e("p",[t._v(" The code is available on "),e("a",{attrs:{href:"https://github.com/fabian-beck/pure-suggest"}},[t._v("GitHub "),e("b-icon",{attrs:{icon:"github",size:"is-small"}})],1),t._v(" under "),e("a",{attrs:{href:"https://github.com/fabian-beck/pure-suggest/blob/master/LICENSE"}},[t._v("MIT License "),e("b-icon",{attrs:{icon:"license",size:"is-small"}})],1),t._v(". ")]),e("p",[t._v(" Follow updates on "),e("a",{attrs:{href:"https://twitter.com/pure_suggest"}},[t._v(" Twitter "),e("b-icon",{attrs:{icon:"twitter",size:"is-small"}}),t._v(" (@pure_suggest) ")],1),t._v(". ")]),e("h2",[e("b-icon",{attrs:{icon:"file-document"}}),t._v(" Scientific Publication")],1),e("p",[t._v(" If you want to read more or cite the tool, you can refer to the following publication: ")]),t._m(1),e("h2",[e("b-icon",{attrs:{icon:"database"}}),t._v(" Data Sources")],1),e("p",[t._v(" APIs by the following projects are used to retrieve the literature meta-data and citation information. ")]),t._m(2),e("h2",[e("b-icon",{attrs:{icon:"tools"}}),t._v(" Similar Tools")],1),t._m(3),t._m(4),e("h2",[e("b-icon",{attrs:{icon:"card-account-mail"}}),t._v(" Contact")],1),t._m(5),t._m(6),t._m(7)])])])])},It=[function(){var t=this,e=t._self._c;return e("p",[e("em",[t._v("PURE suggest")]),t._v(" is a scientific literature search tool that, starting from some seed papers, suggests scientific publications through citations/references. ")])},function(){var t=this,e=t._self._c;return e("ul",[e("li",[t._v(" Beck, F. and Krause, C., 2022. Visually Explaining Publication Ranks in Citation-based Literature Search with PURE suggest. In EuroVis 2022 - Posters. DOI: "),e("a",{attrs:{href:"https://diglib.eg.org/handle/10.2312/evp20221110"}},[t._v("10.2312/evp.20221110")]),t._v(". ["),e("a",{attrs:{href:"https://diglib.eg.org/bitstream/handle/10.2312/evp20221110/019-021.pdf"}},[t._v("PDF")]),t._v("] ")])])},function(){var t=this,e=t._self._c;return e("ul",[e("li",[e("a",{attrs:{href:"https://opencitations.net/"}},[t._v("OpenCitations")])]),e("li",[e("a",{attrs:{href:"https://www.crossref.org/"}},[t._v("CrossRef")])])])},function(){var t=this,e=t._self._c;return e("p",[e("em",[t._v("PURE suggest")]),t._v(" is not the first of its kind, but other tools are available that also provide a visually supported literature search through citation links. Try them out and decide yourself which one you like best! ")])},function(){var t=this,e=t._self._c;return e("ul",[e("li",[e("a",{attrs:{href:"https://www.citationgecko.com/"}},[t._v("Citation Gecko")])]),e("li",[e("a",{attrs:{href:"https://www.connectedpapers.com"}},[t._v("Connected Papers")])]),e("li",[e("a",{attrs:{href:"https://inciteful.xyz/"}},[t._v("Inciteful")])]),e("li",[e("a",{attrs:{href:"https://www.researchrabbit.ai/"}},[t._v("Research Rabbit")])])])},function(){var t=this,e=t._self._c;return e("p",[e("em",[t._v("PURE suggest")]),t._v(" has been created by:")])},function(){var t=this,e=t._self._c;return e("p",[e("a",{attrs:{href:"https://github.com/fabian-beck"}},[t._v("Fabian Beck")]),t._v(" "),e("br"),t._v(" University of Bamberg "),e("br"),t._v(" 96047 Bamberg, Germany "),e("br"),e("a",{attrs:{href:"mailto:fabian.beck@uni-bamberg.de"}},[t._v("fabian.beck@uni-bamberg.de")])])},function(){var t=this,e=t._self._c;return e("p",[t._v(" Thanks a lot to all other contributors, especially "),e("a",{attrs:{href:"https://github.com/cedrickrause"}},[t._v("Cedric Krause")]),t._v(". ")])}],Rt={},Kt=(0,D.Z)(Rt,Bt,It,!1,null,"f6286bb4",null),Ut=Kt.exports,qt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card",attrs:{id:"keyboardControls"}},[e("header",{staticClass:"card-header has-background-light"},[e("p",{staticClass:"card-header-title"},[e("b-icon",{attrs:{icon:"keyboard-outline"}}),t._v("â€‚Keyboard Controls ")],1)]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"content"},[e("section",[e("p",[t._v(" You can use the following keyboard shortcuts to control the application. ")]),e("h2",[t._v("General")]),e("ul",{staticClass:"keys"},[e("li",[e("b-icon",{attrs:{icon:"alpha-b-box-outline"}}),t._v(' Jump to "Boost" input field ')],1),e("li",[e("b-icon",{attrs:{icon:"alpha-a-box-outline"}}),t._v(' Jump to "Add" input field ')],1),e("li",[e("b-icon",{attrs:{icon:"alpha-s-box-outline"}}),t._v(' Open "Search" dialog ')],1),e("li",[e("b-icon",{attrs:{icon:"alpha-u-box-outline"}}),t._v(" Update selected publications (if publications are waiting) ")],1),e("li",[e("b-icon",{attrs:{icon:"alpha-f-box-outline"}}),t._v(" Switch on/off filtering of suggestions ")],1),e("li",[e("b-icon",{attrs:{icon:"arrow-left-bold-box-outline"}}),t._v(' Jump to first publication of "Selected" ')],1),e("li",[e("b-icon",{attrs:{icon:"arrow-right-bold-box-outline"}}),t._v(' Jump to first publication of "Suggested" ')],1),e("li",[e("b-icon",{attrs:{icon:"arrow-down-bold-box-outline"}}),t._v(" Move one publication down (if one is active) ")],1),e("li",[e("b-icon",{attrs:{icon:"arrow-up-bold-box-outline"}}),t._v(" Move one publication up (if one is active) ")],1),e("li",[e("b-icon",{attrs:{icon:"keyboard-esc"}}),t._v(" Escape input field or active publication ")],1),e("li",[e("b-icon",{attrs:{icon:"alpha-c-box-outline"}}),t._v(" Clear session")],1)]),e("h2",[t._v("Active Publication")]),e("p",[t._v("If a publication is marked as active:")]),e("ul",{staticClass:"keys"},[e("li",[e("b-icon",{attrs:{icon:"plus-box-outline"}}),t._v(" Add publication to selection ")],1),e("li",[e("b-icon",{attrs:{icon:"minus-box-outline"}}),t._v(" Exclude publication from selection/suggestion ")],1),e("li",[e("b-icon",{attrs:{icon:"alpha-d-box-outline"}}),t._v(' Open "DOI" link ')],1),e("li",[e("b-icon",{attrs:{icon:"alpha-t-box-outline"}}),t._v(" Show abstract")],1),e("li",[e("b-icon",{attrs:{icon:"alpha-o-box-outline"}}),t._v(' Open "Open access" link ')],1),e("li",[e("b-icon",{attrs:{icon:"alpha-g-box-outline"}}),t._v(' Open "Google Scholar" link ')],1),e("li",[e("b-icon",{attrs:{icon:"alpha-x-box-outline"}}),t._v(" Export as BibTeX citation ")],1)]),e("h2",[t._v("Citation Network")]),e("ul",{staticClass:"keys"},[e("li",[e("b-icon",{attrs:{icon:"alpha-m-box-outline"}}),t._v(" Toggle mode of citation network visualization between "),e("em",[t._v("timeline")]),t._v(" and "),e("em",[t._v("clusters")])],1)])])])])])},Yt=[],zt={},Ht=(0,D.Z)(zt,qt,Yt,!1,null,"9ae87360",null),jt=Ht.exports;function Zt(t){const e=E(),i=u();if(!(t.ctrlKey||t.shiftKey||t.metaKey||t.repeat&&"ArrowDown"!==t.key&&"ArrowUp"!==t.key))if(i.isLoading||i.isOverlay||i.isSearchPanelShown&&"INPUT"!=document.activeElement.nodeName||i.isAboutPageShown||i.isKeyboardControlsShown)t.preventDefault();else{if("INPUT"===document.activeElement.nodeName&&"text"===document.activeElement.type||document.activeElement.className.includes("input")&&document.activeElement.className.includes("boost"))return"Enter"===t.key&&document.activeElement.className.includes("boost")?(e.updateScores(),void t.preventDefault()):void("Escape"===t.key&&document.activeElement.blur());if("a"===t.key)return t.preventDefault(),e.clearActivePublication("setting focus on text field"),void document.getElementsByClassName("input add-publication")[0].focus();if("s"===t.key)return t.preventDefault(),void(i.isSearchPanelShown=!0);if(!e.isEmpty)if("c"===t.key)t.preventDefault(),e.clearSession();else if("Escape"===t.key)t.preventDefault(),document.activeElement.blur(),e.clearActivePublication("escape key");else if("b"===t.key)t.preventDefault(),e.clearActivePublication("setting focus on text field"),document.getElementsByClassName("input boost")[0].focus();else if("u"===t.key)t.preventDefault(),e.updateQueued();else if("f"===t.key)t.preventDefault(),i.isFilterPanelShown=!i.isFilterPanelShown;else if("m"===t.key)t.preventDefault(),i.isNetworkClusters=!i.isNetworkClusters;else if("ArrowLeft"===t.key)t.preventDefault(),i.activatePublicationComponent(document.getElementById("selected").getElementsByClassName("publication-component")[0]);else if("ArrowRight"===t.key)t.preventDefault(),i.activatePublicationComponent(document.getElementById("suggested").getElementsByClassName("publication-component")[0]);else if(e.activePublication)if("ArrowDown"===t.key||"ArrowUp"===t.key){t.preventDefault();const e=document.getElementsByClassName("publication-component active")[0];try{i.activatePublicationComponent("ArrowDown"===t.key?e.parentNode.nextSibling.getElementsByClassName("publication-component")[0]:e.parentNode.previousSibling.getElementsByClassName("publication-component")[0])}catch(s){console.log("Could not activate next/previous publication.")}}else if("+"===t.key){t.preventDefault();const i=e.activePublication.doi;e.queueForSelected(i)}else if("-"===t.key){t.preventDefault();const i=e.activePublication.doi;e.queueForExcluded(i)}else"d"===t.key?(t.preventDefault(),window.open(e.activePublication.doiUrl)):"t"===t.key&&e.activePublication.abstract?(t.preventDefault(),i.showAbstract(e.activePublication)):"o"===t.key&&e.activePublication.oaLink?(t.preventDefault(),window.open(e.activePublication.oaLink)):"g"===t.key?(t.preventDefault(),window.open(e.activePublication.gsUrl)):"x"===t.key&&(t.preventDefault(),e.exportSingleBibtex(e.activePublication))}}var Jt={name:"App",setup(){const t=E(),e=u();return{sessionStore:t,interfaceStore:e}},components:{HeaderPanel:O,SelectedPublicationsComponent:nt,SuggestedPublicationsComponent:pt,NetworkVisComponent:_t,QuickAccessBar:$t,SearchPanel:Mt,AboutPage:Ut,KeyboardControlsPage:jt},created(){window.addEventListener("keydown",Zt)},mounted(){window.onbeforeunload=()=>(window.scrollTo(0,0),this.sessionStore.isEmpty?null:"")},beforeDestroy(){document.removeEventListener("keydown",this.onKey)}},Wt=Jt,Gt=(0,D.Z)(Wt,o,a,!1,null,null,null),Xt=Gt.exports,Vt={i8:"0.6.0"},te=i(655),ee=i(7309);s.ZP.use(n.og);const ie=(0,n.WB)();s.ZP.use(te.ZP,{defaultIconPack:"mdi"}),s.ZP.use(ee.ZP,{maxWidth:"min(400px,70vw)"}),s.ZP.component("tippy",ee.Jx),s.ZP.config.productionTip=!1,s.ZP.prototype.$appName="PURE suggest",s.ZP.prototype.$appNameHtml='<span class="has-text-primary">PURE&nbsp;</span><span class="has-text-info">suggest</span>',s.ZP.prototype.$appSubtitle="Citation-based literature search",s.ZP.prototype.$version=Vt.i8,new s.ZP({render:t=>t(Xt),pinia:ie}).$mount("#app")}},e={};function i(s){var o=e[s];if(void 0!==o)return o.exports;var a=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.m=t,function(){var t=[];i.O=function(e,s,o,a){if(!s){var n=1/0;for(u=0;u<t.length;u++){s=t[u][0],o=t[u][1],a=t[u][2];for(var r=!0,c=0;c<s.length;c++)(!1&a||n>=a)&&Object.keys(i.O).every((function(t){return i.O[t](s[c])}))?s.splice(c--,1):(r=!1,a<n&&(n=a));if(r){t.splice(u--,1);var l=o();void 0!==l&&(e=l)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[s,o,a]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,a,n=s[0],r=s[1],c=s[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(o in r)i.o(r,o)&&(i.m[o]=r[o]);if(c)var u=c(i)}for(e&&e(s);l<n.length;l++)a=n[l],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(u)},s=self["webpackChunkpure"]=self["webpackChunkpure"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(9373)}));s=i.O(s)})();
//# sourceMappingURL=app.be0e14ab.js.map