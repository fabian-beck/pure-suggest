(function(){"use strict";var t={5735:function(t,e,i){i(6992),i(8674),i(9601),i(7727);var n=i(144),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("HeaderPanel",{attrs:{id:"header"}}),e("div",{class:{"network-expanded":t.interfaceStore.isNetworkExpanded},attrs:{id:"main"},on:{click:function(e){return t.sessionStore.clearActivePublication("clicked anywhere")}}},[e("SelectedPublicationsComponent",{attrs:{id:"selected"}}),e("SuggestedPublicationsComponent",{attrs:{id:"suggested"}}),e("NetworkVisComponent",{attrs:{id:"network",svgWidth:1500,svgHeight:600}})],1),e("QuickAccessBar",{staticClass:"is-hidden-desktop",attrs:{id:"quick-access"}}),e("SearchPanel"),e("b-modal",{model:{value:t.interfaceStore.isAboutPageShown,callback:function(e){t.$set(t.interfaceStore,"isAboutPageShown",e)},expression:"interfaceStore.isAboutPageShown"}},[e("AboutPage")],1),e("b-modal",{model:{value:t.interfaceStore.isKeyboardControlsShown,callback:function(e){t.$set(t.interfaceStore,"isKeyboardControlsShown",e)},expression:"interfaceStore.isKeyboardControlsShown"}},[e("KeyboardControlsPage")],1),e("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:t.interfaceStore.isLoading,callback:function(e){t.$set(t.interfaceStore,"isLoading",e)},expression:"interfaceStore.isLoading"}})],1)},o=[],a=i(124),r=i(8534),c=i(5957),l=(i(1539),i(189),i(8783),i(3948),i(7327),i(2222),i(1249),i(9653),i(4916),i(3123),i(3210),i(6699),i(2023),i(4747),i(7658),i(2479),i(2707),i(7042),i(8862),i(9600),i(6086)),u=i(2828),d=i(4167),p=i(5750),h=(0,l.Q_)("interface",{state:function(){return{isLoading:!1,loadingToast:void 0,isOverlay:!1,isNetworkExpanded:!1,isNetworkClusters:!0,isFilterPanelShown:!1,searchQuery:"",isSearchPanelShown:!1,isAboutPageShown:!1,isKeyboardControlsShown:!1,feedbackInvitationShown:!1}},getters:{isMobile:function(){return window.innerWidth<=1023}},actions:{clear:function(){this.isOverlay=!1,this.isNetworkExpanded=!1,this.isNetworkClusters=!0,this.isFilterPanelShown=!1,window.scrollTo(0,0)},startLoading:function(){this.isLoading=!0},endLoading:function(){this.isLoading=!1,this.loadingToast&&(this.loadingToast.close(),this.loadingToast=null)},updateLoadingToast:function(t,e){this.loadingToast||(this.loadingToast=u.V.open({indefinite:!0})),this.loadingToast.message=t,this.loadingToast.type=e},showAbstract:function(t){console.log(t);var e=this,i=function(){e.isOverlay=!1,e.activatePublicationComponent(document.getElementById(t.doi))};this.isOverlay=!0,p.q.alert({message:"<div><b>".concat(t.title,"</b></div><div><i>").concat(t.abstract,"</i></div>"),type:"is-dark",hasIcon:!0,icon:"text",confirmText:"Close",canCancel:["escape","outside"],onConfirm:i,onCancel:i})},showMessage:function(t){b({message:t})},showImportantMessage:function(t){},showErrorMessage:function(t){b({duration:5e3,message:t,type:"is-danger"},console.error)},showConfirmDialog:function(t,e){var i=this;this.isOverlay=!0,p.q.confirm({message:t,onConfirm:function(){e(),i.isOverlay=!1},onCancel:function(){i.isOverlay=!1}})},showFeedbackInvitation:function(){this.feedbackInvitationShown=!0,d.GU.open({indefinite:!0,message:"You have added the 10th publication to selected—we invite you to share your <b>feedback</b> on the tool!",cancelText:"Maybe later",onAction:this.openFeedback})},openSearch:function(t){this.searchQuery=t||"",this.isSearchPanelShown=!0},openFeedback:function(){var t=this;this.isOverlay=!0,p.q.confirm({message:"<p><b>We are interested in your opinion!</b></p><p>&nbsp;</p><p>What you like and do not like, what features are missing, how you are using the tool, bugs, criticism, ... anything.</p><p>&nbsp;</p><p>We invite you to provide feedback publicly. Clicking 'OK' will open a GitHub discussion in another tab where you can post a comment (account required). Alternatively, you can always send a private message to <a href='mailto:fabian.beck@uni-bamberg.de'>fabian.beck@uni-bamberg.de</a>.</p>",onConfirm:function(){window.open("https://github.com/fabian-beck/pure-suggest/discussions/214"),t.isOverlay=!1},onCancel:function(){t.isOverlay=!1}})},activatePublicationComponent:function(t){t&&t.focus()}}});function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.log;t.message&&(e(t.message),u.V.open(t))}var f=i(3087),v=i(2329),g=(i(5306),i(7601),i(4723),i(8757),i(6977),i(4944),i(3792),i(6486)),m=i.n(g),y=(i(1703),i(7941),i(6961)),w=i.n(y);function S(t,e){return k.apply(this,arguments)}function k(){return k=(0,r.Z)((0,a.Z)().mark((function t(e,i){var n,s,o,r,c,l,u=arguments;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=u.length>2&&void 0!==u[2]?u[2]:{},t.prev=1,s=JSON.parse(w().decompress(localStorage[e])),s){t.next=5;break}throw new Error("Cached data is empty");case 5:i(s),t.next=27;break;case 8:return t.prev=8,t.t0=t["catch"](1),t.prev=10,t.next=13,fetch(e,n);case 13:if(o=t.sent,o.ok){t.next=16;break}throw new Error("Received response with status ".concat(o.status));case 16:return t.next=18,o.json();case 18:r=t.sent;try{localStorage[e]=w().compress(JSON.stringify(r))}catch(a){console.log("Cache full (#elements: ${Object.keys(localStorage).length})! Removing elements...");try{for(c=0;c<100;c++)l=Object.keys(localStorage)[Math.floor(Math.random()*Object.keys(localStorage).length)],localStorage.removeItem(l);localStorage[e]=w().compress(JSON.stringify(r))}catch(d){console.error('Unable to cache information for "'.concat(e,'" in local storage: ').concat(d))}}console.log('Successfully fetched data for "'.concat(e,'"')),i(r),t.next=27;break;case 24:t.prev=24,t.t1=t["catch"](10),console.error('Unable to fetch or process data for "'.concat(e,'": ').concat(t.t1));case 27:case"end":return t.stop()}}),t,null,[[1,8],[10,24]])}))),k.apply(this,arguments)}function x(){localStorage.clear()}var C=function(){function t(e){(0,f.Z)(this,t),this.doi=e.toLowerCase(),this.doiUrl="https://doi.org/"+e,this.title="",this.titleHighlighted="",this.year=void 0,this.author=void 0,this.authorShort=void 0,this.authorOrcid=void 0,this.container=void 0,this.volume=void 0,this.issue=void 0,this.page=void 0,this.oaLink=void 0,this.abstract=void 0,this.citationDois=[],this.referenceDois=[],this.citationCount=0,this.referenceCount=0,this.boostMatches=0,this.boostKeywords=[],this.boostFactor=1,this.score=0,this.scoreColor="#FFF",this.citationsPerYear=0,this.isSurvey=!1,this.isHighlyCited=!1,this.isNew=!1,this.isUnnoted=!1,this.isOpenAccess=!1,this.isActive=!1,this.isLinkedToActive=!1,this.isSelected=!1,this.isRead=!1,this.wasFetched=!1}return(0,v.Z)(t,[{key:"fetchData",value:function(){var t=(0,r.Z)((0,a.Z)().mark((function t(){var e=this;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.wasFetched){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,S("https://opencitations.net/index/coci/api/v1/metadata/".concat(this.doi),(function(t){if(t&&0!==t.length){var i=t[0];if(e.title=i.title,i.author){var n=i.author.split("; ");1===n.length?e.authorShort=n[0].split(", ")[0]:2===n.length?e.authorShort="".concat(n[0].split(", ")[0]," and ").concat(n[1].split(", ")[0]):n.length>2&&(e.authorShort="".concat(n[0].split(", ")[0]," et al.")),e.author=i.author.replace(/(,\s+)(\d{4}-\d{4}-\d{4}-\d{3}[0-9X]{1})/g,""),e.authorOrcid=i.author.replace(/(,\s+)(\d{4}-\d{4}-\d{4}-\d{3}[0-9X]{1})/g," <a href='https://orcid.org/$2'><img alt='ORCID logo' src='https://info.orcid.org/wp-content/uploads/2019/11/orcid_16x16.png' width='14' height='14' /></a>")}if(e.container="",i.source_title.split(" ").forEach((function(t){var i="";i=/\(.+\)/.test(t)?t.toUpperCase():/\d+(st|nd|rd|th)/i.test(t)?t.toLowerCase():/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})(\.?)$/i.test(t)?t.toUpperCase():P[t.toLowerCase()],e.container+=(i||t)+" "})),e.container=m().trim(e.container,". "),e.container=N(e.container),e.year=i.year,!e.year){var s=e.doi.match(/\.((19|20)\d\d)\./);s&&(e.year=s[1])}e.volume=i.volume,e.issue=i.issue,e.page=i.page,e.oaLink=i.oa_link,i.reference.split("; ").forEach((function(t){t&&e.referenceDois.push(t.toLowerCase())})),i.citation.split("; ").forEach((function(t){t&&e.citationDois.push(t.toLowerCase())})),e.citationsPerYear=e.citationDois.length/Math.max(1,_-e.year)}else console.error('Unable to process metadata for DOI "'.concat(e.doi,'" because of empty message.'))}),{headers:{authorization:"aa9da96d-3c7b-49c1-a2d8-1c2d01ae10a5"}});case 5:return t.next=7,S("https://api.crossref.org/v1/works/".concat(this.doi,"?mailto=fabian.beck@uni-bamberg.de"),(function(t){var i=t.message;i.abstract&&(e.abstract=i.abstract.replaceAll(/<jats:/gi,"<").replaceAll(/<\/jats:/gi,"</").replaceAll(/<.*?>abstract<.*?>/gi,"")),i.title.length&&i.title[0].length>=e.title.length&&(e.title=i.title[0]);var n=i.subtitle;if(n.length&&e.title.toLowerCase().indexOf(n[0].toLowerCase())){var s=e.title.replaceAll(/<[^>]*>/g,"");e.title+="".concat(s.match(/^.*\W$/)?"":":","  ").concat(n[0])}e.year||i.created&&(e.year=i.created["date-parts"][0][0])}));case 7:this.title=N(this.title),this.gsUrl="https://scholar.google.de/scholar?hl=en&q=".concat(this.title," ").concat(this.author?this.author:""),this.referenceDois.length>100?this.isSurvey="more than 100 references (".concat(this.referenceDois.length,")"):this.referenceDois.length>=50&&/.*(survey|state|review|advances|future).*/i.test(this.title)&&(this.isSurvey="more than 50 references (".concat(this.referenceDois.length,') and "').concat(/(survey|state|review|advances|future)/i.exec(this.title)[0],'" in the title')),this.isHighlyCited=this.citationsPerYear>10&&"more than 10 citations per year (".concat(this.citationsPerYear.toFixed(1),")"),this.isNew=_-this.year<2&&"published within the last two calendar years",this.isUnnoted=this.citationsPerYear<1&&"less than 1 citation per year (".concat(this.citationsPerYear.toFixed(1),")"),this.isOpenAccess=!!this.oaLink,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](2),console.log(t.t0);case 19:this.wasFetched=!0;case 20:case"end":return t.stop()}}),t,this,[[2,16]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"updateScore",value:function(t){var e=this;this.boostMatches=0,this.boostFactor=1;var i=[this.title];t.forEach((function(t){if(t){var n=-1;t.split("|").forEach((function(s){if(!(n>=0)){for(var o=0;o<i.length;o++){var a=i[o];if(0!=a.indexOf("<")&&(n=a.toLowerCase().indexOf(s),n>=0)){e.boostMatches+=1,e.boostKeywords.push(t),e.boostFactor=2*e.boostFactor,i[o]=[a.substring(0,n),"<u style='text-decoration-color: hsl(48, 100%, 67%); text-decoration-thickness: 0.25rem;'>"+a.substring(n,n+s.length)+"</u>",a.substring(n+s.length)];break}}i=i.flat()}}))}})),this.titleHighlighted=i.join(""),this.score=(this.citationCount+this.referenceCount)*this.boostFactor;var n=100;this.score>=32?n=60:this.score>=16?n=72:this.score>=8?n=80:this.score>=4?n=90:this.score>=2&&(n=95),this.scoreColor="hsl(0, 0%, ".concat(n,"%)")}},{key:"toBibtex",value:function(){function t(t){var e=t,i=[];return t.split(/\W/).forEach((function(t){t.slice(1)==t.slice(1).toLowerCase()||i.includes(t)||(e=e.replaceAll(t,"{".concat(t,"}")),i.push(t))})),e}var e="misc",i="";if(this.title&&(i+="\n    title = {".concat(t(this.title),"},")),this.author&&(i+="\n    author = {".concat(this.author.replaceAll(";"," and"),"},")),this.year&&(i+="\n    year = {".concat(this.year,"},")),this.volume)e="article",i+="\n    journal = {".concat(this.container,"},\n    volume = {").concat(this.volume,"},"),this.issue&&(i+="\n    number = {".concat(this.issue,"},"));else if(this.container){var n=this.container.toLowerCase();e=n.indexOf("proceedings")>=0||n.indexOf("conference")>=0||n.indexOf("symposium")>=0||n.indexOf("workshop")>=0?"inproceedings":"incollection",i+="\n    booktitle = {".concat(this.container,"},")}return this.page&&(i+="\n    pages = {".concat(this.page,"},")),"@".concat(e,"{").concat(this.doi.replaceAll(/_/g,""),",").concat(i,"\n    doi = {").concat(this.doi,"}\n}")}},{key:"hasTag",value:function(){var e=this;return t.TAGS.some((function(t){return e[t.value]}))}},{key:"getMetaString",value:function(){var t="";return this.title&&(t+=this.title+" "),this.author&&(t+=this.author+" "),this.container&&(t+=this.container+" "),t}}],[{key:"TAGS",get:function(){return[{value:"isHighlyCited",name:"Highly cited"},{value:"isSurvey",name:"Literature survey"},{value:"isNew",name:"New"},{value:"isUnnoted",name:"Unnoted"},{value:"isOpenAccess",name:"Open access"}]}},{key:"sortPublications",value:function(t){t.sort((function(t,e){return e.score-1/((e.year?e.year:0)+2)-(t.score-1/((t.year?t.year:0)+2))}))}}]),t}(),_=(new Date).getFullYear(),P={a:"a",an:"an",acm:"ACM",and:"and",by:"by",chi:"CHI",during:"during",for:"for",from:"from",ieee:"IEEE",ii:"II",iii:"III",in:"in",not:"not",of:"of",or:"or",on:"on",the:"the",their:"their",through:"through",to:"to",via:"via",with:"with",within:"within"};function E(t){return t.replaceAll(/<[^>]*>/g,"")}function N(t){var e="";return E(t).split(" ").forEach((function(t){var i=P[t.toLowerCase()];e+=(i||t)+" "})),e=e.charAt(0).toUpperCase()+e.slice(1),e=e.trim(),e=e.replaceAll(/--/g,"–"),e=e.replaceAll(/ - /g," – "),e=e.replaceAll(/---/g,"—"),e=e.replaceAll(/ ?— ?/g,"—"),e=e.replaceAll(/&[A-Z]/g,(function(t){return t.toLowerCase()})),e.length>300&&(e=e.substring(0,295)+"[...]"),e}var A=function(){function t(){(0,f.Z)(this,t),this.string="",this.yearStart=void 0,this.yearEnd=void 0,this.tag=""}return(0,v.Z)(t,[{key:"matchesString",value:function(t){return!this.string||t.getMetaString().toLowerCase().indexOf(this.string.toLowerCase())>=0}},{key:"isSpecificYearActive",value:function(t){return t&&t>=1e3&&t<1e4}},{key:"isYearActive",value:function(){return this.isSpecificYearActive(Number(this.yearStart))||this.isSpecificYearActive(Number(this.yearEnd))}},{key:"matchesYearStart",value:function(t){var e=Number(this.yearStart);return!this.isSpecificYearActive(e)||e<=Number(t.year)}},{key:"matchesYearEnd",value:function(t){var e=Number(this.yearEnd);return!this.isSpecificYearActive(e)||e>=Number(t.year)}},{key:"matchesYear",value:function(t){return!!t.year&&(this.matchesYearStart(t)&&this.matchesYearEnd(t))}},{key:"matchesTag",value:function(t){return!this.tag||t[this.tag]}},{key:"matches",value:function(t){return this.matchesString(t)&&this.matchesTag(t)&&this.matchesYear(t)}}]),t}();i(285),i(1637);function F(t,e,i){var n=new Blob([i],{type:e});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(n,t);else{var s=window.document.createElement("a");s.href=window.URL.createObjectURL(n),s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s)}}function T(t,e){var i=t.getBoundingClientRect().top,n=i+window.pageYOffset-e;window.scrollTo({top:n,behavior:"smooth"})}function D(t,e){function i(t){var e=1e4*Math.sin(t++);return e-Math.floor(e)}var n,s,o=t.length;while(o)s=Math.floor(i(e)*o--),n=t[o],t[o]=t[s],t[s]=n,++e;return t}var L=(0,l.Q_)("session",{state:function(){return{interfaceStore:h(),selectedPublications:[],selectedQueue:[],excludedPublicationsDois:[],excludedQueue:[],suggestion:"",maxSuggestions:50,boostKeywordString:"",activePublication:"",readPublicationsDois:new Set,filter:new A,addQuery:""}},getters:{selectedPublicationsDois:function(t){return O(t.selectedPublications)},selectedPublicationsCount:function(t){return t.selectedPublications.length},excludedPublicationsCount:function(t){return t.excludedPublicationsDois.length},suggestedPublications:function(t){return t.suggestion?t.suggestion.publications:[]},suggestedPublicationsFiltered:function(t){return t.suggestedPublications.filter((function(e){return t.filter.matches(e)}))},publications:function(t){return t.selectedPublications.concat(t.suggestedPublications)},publicationsFiltered:function(t){return t.selectedPublications.concat(t.suggestedPublicationsFiltered)},yearMax:function(t){return Math.max.apply(Math,(0,c.Z)(t.publicationsFiltered.filter((function(t){return t.year})).map((function(t){return Number(t.year)}))))},yearMin:function(t){return Math.min.apply(Math,(0,c.Z)(t.publicationsFiltered.filter((function(t){return t.year})).map((function(t){return Number(t.year)}))))},unreadSuggestionsCount:function(t){return t.suggestedPublicationsFiltered.filter((function(t){return!t.isRead})).length},boostKeywords:function(t){return t.boostKeywordString.toLowerCase().split(/,\s*/).map((function(t){return t.trim()}))},isKeywordLinkedToActive:function(t){return function(e){return t.activePublication&&t.activePublication.boostKeywords.includes(e)}},uniqueBoostKeywords:function(t){return(0,c.Z)(new Set(t.boostKeywords))},isUpdatable:function(t){return t.selectedQueue.length>0||t.excludedQueue.length>0},isEmpty:function(t){return 0===t.selectedPublicationsCount&&0===t.excludedPublicationsCount&&0===t.selectedQueue.length&&!t.isUpdatable},isSelected:function(t){return function(e){return t.selectedPublicationsDois.includes(e)}},isExcluded:function(t){return function(e){return t.excludedPublicationsDois.includes(e)}},isQueuingForSelected:function(t){return function(e){return t.selectedQueue.includes(e)}},isQueuingForExcluded:function(t){return function(e){return t.excludedQueue.includes(e)}},getSelectedPublicationByDoi:function(t){return function(e){return t.selectedPublications.filter((function(t){return t.doi===e}))[0]}}},actions:{clear:function(){this.selectedPublications=[],this.selectedQueue=[],this.excludedPublicationsDois=[],this.excludedQueue=[],this.suggestion="",this.maxSuggestions=50,this.boostKeywordString="",this.activePublication="",this.filter=new A,this.addQuery="",this.interfaceStore.clear()},removeFromExcludedPublication:function(t){this.excludedPublicationsDois=this.excludedPublicationsDois.filter((function(e){return e!=t}))},setBoostKeywordString:function(t){this.boostKeywordString=t,this.updateScores()},queueForSelected:function(t){var e=this;Array.isArray(t)||(t=[t]),this.excludedQueue=this.excludedQueue.filter((function(e){return!t.includes(e)})),t.forEach((function(t){e.isSelected(t)||e.selectedQueue.includes(t)||e.selectedQueue.push(t)}))},queueForExcluded:function(t){this.isExcluded(t)||this.excludedQueue.includes(t)||(this.selectedQueue=this.selectedQueue.filter((function(e){return t!=e})),this.excludedQueue.push(t))},removeFromQueues:function(t){this.selectedQueue=this.selectedQueue.filter((function(e){return t!=e})),this.excludedQueue=this.excludedQueue.filter((function(e){return t!=e}))},clearQueues:function(){this.excludedQueue=[],this.selectedQueue=[]},updateQueued:function(){var t=this;return(0,r.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.clearActivePublication(),t.excludedQueue.length&&(t.excludedPublicationsDois=t.excludedPublicationsDois.concat(t.excludedQueue)),t.selectedPublications=t.selectedPublications.filter((function(e){return!t.excludedQueue.includes(e.doi)})),t.suggestion.publications=t.suggestion.publications.filter((function(e){return!t.selectedQueue.includes(e.doi)&&!t.excludedQueue.includes(e.doi)})),t.selectedQueue.length&&t.addPublicationsToSelection(t.selectedQueue),e.next=7,t.updateSuggestions();case 7:!t.interfaceStore.feedbackInvitationShown&&t.selectedPublications.length>=10&&t.interfaceStore.showFeedbackInvitation(),t.clearQueues();case 9:case"end":return e.stop()}}),e)})))()},addPublicationsAndUpdate:function(t){var e=this;return(0,r.Z)((0,a.Z)().mark((function i(){return(0,a.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.forEach((function(t){return e.removeFromQueues(t)})),i.next=3,e.addPublicationsToSelection(t);case 3:return i.next=5,e.updateSuggestions();case 5:case"end":return i.stop()}}),i)})))()},addPublicationsToSelection:function(t){var e=this;return(0,r.Z)((0,a.Z)().mark((function i(){return(0,a.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:console.log("Adding to selection publications with DOIs: ".concat(t,".")),t.forEach((function(t){t=t.toLowerCase(),e.isExcluded(t)&&e.removeFromExcludedPublication(t),e.getSelectedPublicationByDoi(t)||e.selectedPublications.push(new C(t))}));case 2:case"end":return i.stop()}}),i)})))()},updateSuggestions:function(){var t=arguments,e=this;return(0,r.Z)((0,a.Z)().mark((function i(){var n,s;return(0,a.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:50,e.maxSuggestions=n,e.interfaceStore.startLoading(),s=0,e.interfaceStore.updateLoadingToast("".concat(s,"/").concat(e.selectedPublicationsCount," selected publications loaded"),"is-primary"),i.next=7,Promise.all(e.selectedPublications.map(function(){var t=(0,r.Z)((0,a.Z)().mark((function t(i){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.fetchData();case 2:i.isSelected=!0,s++,e.interfaceStore.updateLoadingToast("".concat(s,"/").concat(e.selectedPublicationsCount," selected publications loaded"),"is-primary");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 7:return i.next=9,e.computeSuggestions();case 9:e.interfaceStore.endLoading();case 10:case"end":return i.stop()}}),i)})))()},computeSuggestions:function(){var t=this;return(0,r.Z)((0,a.Z)().mark((function e(){var i,n,s,o,c;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=function(t,e,i,s,o){if(!t.isExcluded(e))if(t.isSelected(e))t.getSelectedPublicationByDoi(e)[i]++;else{if(!n[e]){var a=new C(e);n[e]=a}n[e][s].push(o),n[e][i]++}},console.log("Starting to compute new suggestions based on ".concat(t.selectedPublicationsCount," selected (and ").concat(t.excludedPublicationsCount," excluded).")),t.clearActivePublication("updating suggestions"),n={},t.selectedPublications.forEach((function(t){t.citationCount=0,t.referenceCount=0})),t.selectedPublications.forEach((function(e){e.citationDois.forEach((function(n){i(t,n,"citationCount","referenceDois",e.doi)})),e.referenceDois.forEach((function(n){i(t,n,"referenceCount","citationDois",e.doi)}))})),s=Object.values(n),s=D(s,0),console.log("Identified ".concat(s.length," publications as suggestions.")),s.sort((function(t,e){return e.citationCount+e.referenceCount-(t.citationCount+t.referenceCount)})),o=s.slice(t.maxSuggestions,t.maxSuggestions+50),s=s.slice(0,t.maxSuggestions),console.log("Filtered suggestions to ".concat(s.length," top candidates, loading metadata for these.")),c=0,t.interfaceStore.updateLoadingToast("".concat(c,"/").concat(s.length," suggestions loaded"),"is-info"),e.next=17,Promise.all(s.map(function(){var e=(0,r.Z)((0,a.Z)().mark((function e(i){return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.fetchData();case 2:c++,t.interfaceStore.updateLoadingToast("".concat(c,"/").concat(s.length," suggestions loaded"),"is-info");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 17:s.forEach((function(e){e.isRead=t.readPublicationsDois.has(e.doi)})),console.log("Completed computing and loading of new suggestions."),o.forEach((function(t){t.fetchData()})),t.suggestion={publications:Object.values(s),totalSuggestions:Object.values(n).length},t.updateScores();case 22:case"end":return e.stop()}}),e)})))()},updateScores:function(){var t=this;console.log("Updating scores of publications and reordering them."),this.publications.forEach((function(e){e.updateScore(t.boostKeywords)})),C.sortPublications(this.selectedPublications),C.sortPublications(this.suggestedPublications)},loadMoreSuggestions:function(){this.updateSuggestions(this.maxSuggestions+50)},setActivePublication:function(t){var e=this;this.selectedPublications.forEach((function(i){i.isActive=i.doi===t,i.isActive&&(e.activePublication=i,e.selectedPublications.forEach((function(t){t.isLinkedToActive=i.citationDois.indexOf(t.doi)>=0||i.referenceDois.indexOf(t.doi)>=0})),e.suggestedPublications.forEach((function(t){t.isLinkedToActive=i.citationDois.indexOf(t.doi)>=0||i.referenceDois.indexOf(t.doi)>=0})))})),this.suggestedPublications.forEach((function(i){i.isActive=i.doi===t,i.isActive&&(i.isRead=!0,e.readPublicationsDois.add(t),e.activePublication=i,e.selectedPublications.forEach((function(t){t.isLinkedToActive=i.citationDois.indexOf(t.doi)>=0||i.referenceDois.indexOf(t.doi)>=0})))})),console.log("Highlighted as active publication with DOI ".concat(t,"."))},activatePublicationComponentByDoi:function(t){var e;t!==(null===(e=this.activePublication)||void 0===e?void 0:e.doi)&&(this.interfaceStore.activatePublicationComponent(document.getElementById(t)),this.setActivePublication(t))},clearActivePublication:function(t){this.activePublication&&(this.activePublication=void 0,this.publications.forEach((function(t){t.isActive=!1,t.isLinkedToActive=!1})),console.log('Cleared any highlighted active publication, triggered by "'.concat(t,'".')))},loadSession:function(t){console.log("Loading session ".concat(JSON.stringify(t))),t&&t.selected?(t.boost&&(this.boostKeywordString=t.boost),t.excluded&&(this.excludedPublicationsDois=t.excluded),this.addPublicationsToSelection(t.selected),this.updateSuggestions()):this.interfaceStore.showErrorMessage("Cannot read session state from JSON.")},clearSession:function(){this.interfaceStore.showConfirmDialog("You are going to clear all selected and excluded articles and jump back to the initial state.",this.clear)},exportSession:function(){var t={selected:this.selectedPublicationsDois,excluded:this.excludedPublicationsDois,boost:this.boostKeywords.join(", ")};F("session.json","application/json",JSON.stringify(t))},importSession:function(t){var e=this,i=new FileReader;i.onload=function(){try{var t=i.result,n=JSON.parse(t);e.loadSession(n)}catch(s){e.interfaceStore.showErrorMessage("Cannot read JSON from file.")}},i.readAsText(t)},loadExample:function(){var t={selected:["10.1109/tvcg.2015.2467757","10.1109/tvcg.2015.2467621","10.1002/asi.24171","10.2312/evp.20221110"],boost:"cit, visual, map, publi|literat"};this.loadSession(t)},exportAllBibtex:function(){this.exportBibtex(this.selectedPublications)},exportSingleBibtex:function(t){this.exportBibtex([t])},exportBibtex:function(t){var e="";t.forEach((function(t){return e+=t.toBibtex()+"\n\n"})),F("publications.bib","application/x-bibtex",e)},clearCache:function(){var t=this;this.interfaceStore.showConfirmDialog("You are going to clear the cache, as well as all selected and excluded articles and jump back to the initial state.",(function(){t.clear(),x()}))}}});function O(t){return t.map((function(t){return t.doi}))}var Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box p-0 m-0 is-radiusless"},[e("b-navbar",{staticClass:"box p-0 m-0 is-radiusless",attrs:{"fixed-top":t.interfaceStore.isMobile},scopedSlots:t._u([{key:"brand",fn:function(){return[e("b-navbar-item",[e("b-icon",{staticClass:"has-text-grey",attrs:{icon:"water-plus-outline",size:"is-medium"}}),e("h1",{staticClass:"title ml-2"},[e("span",{domProps:{innerHTML:t._s(t.$appNameHtml)}})])],1)]},proxy:!0},{key:"start",fn:function(){return[e("b-navbar-dropdown",{directives:[{name:"show",rawName:"v-show",value:!t.sessionStore.isEmpty,expression:"!sessionStore.isEmpty"}],attrs:{label:"Session (".concat(t.sessionStore.selectedPublicationsCount," selected").concat(t.sessionStore.excludedPublicationsCount?"; ".concat(t.sessionStore.excludedPublicationsCount," excluded"):"",")")}},[e("b-navbar-item",{on:{click:t.sessionStore.exportSession}},[e("b-icon",{attrs:{icon:"export"}}),e("span",{staticClass:"ml-2"},[t._v("Export session as JSON")])],1),e("b-navbar-item",{on:{click:t.sessionStore.exportAllBibtex}},[e("b-icon",{attrs:{icon:"export"}}),e("span",{staticClass:"ml-2"},[t._v("Export selected as BibTeX")])],1),e("b-navbar-item",{staticClass:"has-text-danger",on:{click:t.sessionStore.clearSession}},[e("b-icon",{attrs:{icon:"delete"}}),e("span",{staticClass:"ml-2"},[e("span",{staticClass:"key"},[t._v("C")]),t._v("lear session")])],1)],1)]},proxy:!0},{key:"end",fn:function(){return[e("b-navbar-item",{staticClass:"mr-6 ml-1",attrs:{tag:"div"}},[e("a",{attrs:{href:"https://twitter.com/pure_suggest"}},[e("b-icon",{attrs:{icon:"twitter"}})],1),e("a",{staticClass:"ml-5",attrs:{href:"https://github.com/fabian-beck/pure-suggest"}},[e("b-icon",{attrs:{icon:"github"}})],1)]),e("b-navbar-dropdown",{attrs:{label:"⋮","icon-left":"dots-vertical",right:"",collapsible:""}},[e("b-navbar-item",{on:{click:t.interfaceStore.openFeedback}},[e("b-icon",{attrs:{icon:"comment-quote-outline"}}),e("span",{staticClass:"ml-2"},[t._v("Feedback")])],1),e("b-navbar-item",{staticClass:"is-hidden-touch",on:{click:function(e){t.interfaceStore.isKeyboardControlsShown=!0}}},[e("b-icon",{attrs:{icon:"keyboard-outline"}}),e("span",{staticClass:"ml-2"},[t._v("Keyboard controls")])],1),e("b-navbar-item",{on:{click:function(e){t.interfaceStore.isAboutPageShown=!0}}},[e("b-icon",{attrs:{icon:"information-outline"}}),e("span",{staticClass:"ml-2"},[t._v("About")])],1),e("b-navbar-item",{staticClass:"has-text-danger",on:{click:t.sessionStore.clearCache}},[e("b-icon",{attrs:{icon:"cached"}}),e("span",{staticClass:"ml-2"},[t._v("Clear cache (and session)")])],1)],1)]},proxy:!0}])}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.isEmpty,expression:"sessionStore.isEmpty"}],staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"subtitle level-item mt-2"},[t._v(" "+t._s(this.$appSubtitle)+" ")])]),e("div",{staticClass:"column is-two-thirds"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.isEmpty,expression:"sessionStore.isEmpty"}],staticClass:"notification has-text-centered p-2"},[t._m(0)])])])],1)},M=[function(){var t=this,e=t._self._c;return e("p",[t._v(" Based on a set of selected publications, "),e("b",{staticClass:"has-text-info"},[t._v("suggest")]),t._v("ing related "),e("b",{staticClass:"has-text-primary"},[t._v("pu")]),t._v("blications connected by "),e("b",{staticClass:"has-text-primary"},[t._v("re")]),t._v("ferences. ")])}],B={name:"HeaderPanel",setup:function(){var t=L(),e=h();return{sessionStore:t,interfaceStore:e}},props:{isMobile:Boolean}},Z=B,I=i(1001),R=(0,I.Z)(Z,Q,M,!1,null,"91105b18",null),K=R.exports,U=function(){var t=this,e=t._self._c;return e("div",{staticClass:"selected-publications box has-background-primary"},[e("div",{staticClass:"level"},[e("div",{staticClass:"level-left has-text-white"},[e("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"level-item",attrs:{"data-tippy-content":"The <b>publications selected as seeds</b> for computing the suggestions, sorted by score."}},[e("b-icon",{attrs:{icon:"water-outline"}}),e("h2",{staticClass:"is-size-5 ml-2"},[t._v("Selected")])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.sessionStore.isEmpty,expression:"!sessionStore.isEmpty"}],staticClass:"level-right"},[e("div",{staticClass:"level-item"},[e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"compact-button",attrs:{"icon-left":"magnify","data-tippy-content":"<span class='key'>S</span>earch/import specific publications to be added to selected."},on:{click:function(e){return e.stopPropagation(),t.interfaceStore.openSearch()}}})],1)])]),e("div",{staticClass:"header"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.sessionStore.isEmpty,expression:"!sessionStore.isEmpty"}],staticClass:"notification has-background-warning-light p-2 pt-3 is-gapless"},[e("BoostKeywordsComponent")],1),e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.isUpdatable,expression:"sessionStore.isUpdatable"}],staticClass:"notification has-background-primary-light media p-2"},[e("b-icon",{staticClass:"media-left ml-2 mt-2 is-hidden-mobile",attrs:{icon:"tray-full"}}),e("div",{staticClass:"media-content has-text-centered mt-2"},[e("b",[t._v("Queue:")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.selectedQueue.length,expression:"sessionStore.selectedQueue.length"}]},[t._v(" "+t._s(t.sessionStore.selectedQueue.length>1?"".concat(t.sessionStore.selectedQueue.length," publications"):"1 publication")+" to be added")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.selectedQueue.length&&t.sessionStore.excludedQueue.length,expression:"\n              sessionStore.selectedQueue.length &&\n              sessionStore.excludedQueue.length\n            "}]},[t._v(" and ")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.excludedQueue.length,expression:"sessionStore.excludedQueue.length"}]},[t._v(" "+t._s(t.sessionStore.excludedQueue.length>1?"".concat(t.sessionStore.excludedQueue.length," publications"):"1 publication")+" to be excluded")]),t._v(". ")]),e("div",{staticClass:"media-right level"},[e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"button ml-2 level-item",attrs:{"icon-left":"undo","data-tippy-content":"Clear queue and discard update."},on:{click:function(e){return e.stopPropagation(),t.sessionStore.clearQueues()}}}),e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"button has-background-primary has-text-white ml-2 level-item",attrs:{"icon-left":"update","data-tippy-content":"Update suggested and excluded publications with queue and compute new suggestions."},on:{click:t.sessionStore.updateQueued}},[e("span",{staticClass:"key"},[t._v("U")]),t._v("pdate")])],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.isEmpty,expression:"sessionStore.isEmpty"}],staticClass:"notification has-text-centered has-background-primary-light p-2"},[t._m(0),e("div",{staticClass:"level mt-2"},[e("div",{staticClass:"level-item"}),e("div",{staticClass:"level-item"},[e("b-button",{staticClass:"button has-background-primary-light",attrs:{"icon-left":"magnify"},on:{click:function(e){return e.stopPropagation(),t.interfaceStore.openSearch()}}},[t._v(" Search/import ")])],1),e("div",{staticClass:"level-item"},[e("b-button",{staticClass:"button has-background-primary-light",attrs:{"icon-left":"import"},on:{click:t.importSession}},[t._v(" Import session ")])],1),e("div",{staticClass:"level-item"},[e("b-button",{staticClass:"button has-background-primary-light",attrs:{"icon-left":"file-document"},on:{click:function(e){return e.stopPropagation(),t.sessionStore.loadExample()}}},[t._v(" Load example ")])],1)])])])]),e("PublicationListComponent",{ref:"publicationList",attrs:{publications:t.sessionStore.selectedPublications}})],1)},q=[function(){var t=this,e=t._self._c;return e("p",[e("i",[t._v("To start, "),e("b",[t._v("add publications")]),t._v(" to selected:")])])}],Y=(i(8309),function(){var t=this,e=t._self._c;return e("div",{staticClass:"field has-addons is-floating-label boost"},[e("label",{staticClass:"label"},[t._v("Keywords")]),e("p",{staticClass:"control has-icons-right is-expanded"},[e("highlightable-input",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"input boost",attrs:{highlight:t.highlight,spellcheck:"false",type:"text","data-tippy-content":"Boost by factors of 2 the score of publications that contain the following keyword(s) in their title.<br><br>Use ',' to separate multiple keywords, use '|' to separate alternatives/synonyms of the same keywords."},model:{value:t.sessionStore.boostKeywordString,callback:function(e){t.$set(t.sessionStore,"boostKeywordString",e)},expression:"sessionStore.boostKeywordString"}}),e("span",{staticClass:"icon is-small is-right is-clickable"},[e("i",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.boostKeywordString,expression:"sessionStore.boostKeywordString"}],staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.sessionStore.setBoostKeywordString("")}}})])],1),e("p",{staticClass:"control"},[e("b-button",{staticClass:"button has-background-warning",attrs:{type:"submit","icon-left":"chevron-double-up"},on:{click:t.sessionStore.updateScores}},[e("span",[e("span",{staticClass:"key"},[t._v("B")]),t._v("oost")])])],1)])}),z=[],H=i(7525),j={name:"BoostKeywordsComponent",components:{HighlightableInput:H.Z},setup:function(){var t=L(),e=h();return{sessionStore:t,interfaceStore:e}},data:function(){return{highlight:[{text:",",style:"color: #ccc; padding-left: 0.25rem; padding-right: 0.75rem;"},{text:"|",style:"color: #ccc; padding-left: 0.25rem; padding-right: 0.25rem;"},{text:/[^,|]+\b/g,style:"text-decoration: underline; text-decoration-color: hsl(48, 100%, 67%); text-decoration-thickness: 0.25rem;"}]}}},$=j,J=(0,I.Z)($,Y,z,!1,null,null,null),W=J.exports,G=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"publication-list has-background-white"},t._l(t.publications,(function(i){return e("PublicationComponent",{key:i.doi,attrs:{publication:i,suggestion:t.suggestion},on:{add:t.addPublication,activate:t.activatePublication}})})),1)},X=[],V=(i(7852),function(){var t=this,e=t._self._c;return e("li",[t.sessionStore.isQueuingForSelected(t.publication.doi)||t.sessionStore.isQueuingForExcluded(t.publication.doi)?e("b-message",{staticClass:"waitingNotification",class:{"is-primary":t.sessionStore.isQueuingForSelected(t.publication.doi),"is-dark":t.sessionStore.isQueuingForExcluded(t.publication.doi)},attrs:{"has-icon":"",icon:"tray-full","icon-size":"mdi-24px"}},[e("div",{staticClass:"level is-mobile"},[e("div",{staticClass:"level-item"},[t._v(" To be  "),t.sessionStore.isQueuingForSelected(t.publication.doi)?e("span",[e("b",[t._v("selected ")]),t._v(" "),e("b-icon",{attrs:{icon:"plus-thick",size:"is-small"}})],1):e("span",[e("b",[t._v(" excluded ")]),e("b-icon",{attrs:{icon:"minus-thick",size:"is-small"}})],1)]),e("div",{staticClass:"level-right"},[e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-small",attrs:{"icon-left":"undo","data-tippy-content":"Remove publication from queue again."},on:{click:function(e){return e.stopPropagation(),t.sessionStore.removeFromQueues(t.publication.doi)}}})],1)])]):t._e(),e("div",{staticClass:"publication-component media",class:{active:t.publication.isActive,selected:t.publication.isSelected,linkedToActive:t.publication.isLinkedToActive,unread:!t.publication.isRead&&!t.publication.isSelected&&t.publication.wasFetched,queuing:t.sessionStore.isQueuingForSelected(t.publication.doi)||t.sessionStore.isQueuingForExcluded(t.publication.doi)},attrs:{id:t.publication.doi,tabindex:"0"},on:{focus:t.activate,click:function(e){return e.stopPropagation(),t.activate.apply(null,arguments)}}},[e("tippy",{staticClass:"media-left",scopedSlots:t._u([{key:"trigger",fn:function(){return[e("div",{directives:[{name:"show",rawName:"v-show",value:t.publication.wasFetched,expression:"publication.wasFetched"}],staticClass:"glyph has-text-centered",style:{"background-color":t.publication.scoreColor}},[e("div",{staticClass:"tooltip-target"},[e("div",{staticClass:"is-size-3 is-inline-block"},[t._v(" "+t._s(t.publication.score)+" ")]),t.publication.boostFactor>1?e("div",{staticClass:"boost-indicator",class:t.chevronType},[e("b-icon",{attrs:{icon:t.chevronType,size:"is-small"}})],1):t._e()]),e("div",{staticClass:"reference-counts is-size-6"},[e("div",{staticClass:"is-pulled-left"},[t.publication.citationCount>0||0===t.publication.referenceDois.length?e("span",{class:t.publication.referenceDois.length?"":"unknown"},[e("b-icon",{attrs:{icon:"arrow-bottom-left-thick",size:"is-small"}}),t._v(" "+t._s(t.publication.citationCount?t.publication.citationCount:"-")+" ")],1):t._e()]),e("div",{staticClass:"is-pulled-right"},[t.publication.referenceCount>0?e("span",[t._v(" "+t._s(t.publication.referenceCount)+" "),e("b-icon",{attrs:{icon:"arrow-top-left-thick",size:"is-small"}})],1):t._e()])])])]},proxy:!0}])},[e("div",[t._v(" Suggestion score of "),e("b",[t._v(t._s(t.publication.score)+" = "),1!=t.publication.boostFactor?e("span",[t._v("(")]):t._e(),t._v(t._s(t.publication.citationCount)+" + "+t._s(t.publication.referenceCount)),1!=t.publication.boostFactor?e("span",[t._v(") · "+t._s(t.publication.boostFactor))]):t._e()]),t._v(","),e("br"),t._v(" citing "),e("b",[t._v(t._s(t.publication.citationCount))]),t._v(" ("),e("b-icon",{class:t.publication.referenceDois.length?"":"unknown",attrs:{icon:"arrow-bottom-left-thick",size:"is-small"}}),t.publication.referenceDois.length?t._e():e("span",{staticClass:"unknown"},[t._v(", citing data not available")]),t._v(") and cited by "),e("b",[t._v(t._s(t.publication.referenceCount))]),t._v(" ("),e("b-icon",{attrs:{icon:"arrow-top-left-thick",size:"is-small"}}),t._v(") selected publications"),1!=t.publication.boostFactor?e("span",[t._v(", multiplied by a boost factor of "),e("b",[t._v(t._s(t.publication.boostFactor)+" = 2"),e("sup",[t._v(t._s(t.publication.boostMatches))])]),t._v(" ("),e("b-icon",{attrs:{icon:t.chevronType,size:"is-small"}}),t._v("; "+t._s(t.publication.boostMatches)+" keyword"),t.publication.boostMatches>1?e("span",[t._v("s")]):t._e(),t._v(" matched)")],1):t._e(),t._v(". ")],1),t.publication.isLinkedToActive?e("div",[e("br"),t._v(" Marked as refered by or referencing currently active publication. ")]):t._e(),t.publication.isActive?e("div",[e("br"),t._v(" Currently active, with linked publications highlighted. ")]):t._e()]),e("div",{staticClass:"media-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.publication.wasFetched,expression:"publication.wasFetched"}],staticClass:"summary"},[t.publication.title?e("span",[e("b",[e("span",{domProps:{innerHTML:t._s(t.publication.titleHighlighted?t.publication.titleHighlighted:t.publication.title)}})]),t._v(" ")]):t._e(),t.publication.title?t._e():e("span",{staticClass:"unknown"},[e("b",[t._v("[unknown title] ")])]),e("span",[t._v("("),e("span",[t._v(t._s(t.publication.authorShort?t.publication.authorShort+", ":""))]),e("span",{class:t.publication.year?"":"unknown"},[t._v(t._s(t.publication.year?t.publication.year:"[unknown year]"))]),t._v(") ")]),e("b-taglist",[t.publication.hasTag()?e("b-icon",{staticClass:"mr-2",attrs:{icon:"tag",size:"is-small"}}):t._e(),t.publication.isHighlyCited?e("b-tag",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-dark",attrs:{icon:"star",size:"is-small","data-tippy-content":"Identified as highly cited: ".concat(t.publication.isHighlyCited,".")}},[t._v("Highly cited")]):t._e(),t.publication.isSurvey?e("b-tag",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-dark",attrs:{icon:"table",size:"is-small","data-tippy-content":"Identified as literature survey: ".concat(t.publication.isSurvey,".")}},[t._v("Literature survey")]):t._e(),t.publication.isNew?e("b-tag",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-dark",attrs:{icon:"alarm",size:"is-small","data-tippy-content":"Identified as new: ".concat(t.publication.isNew,".")}},[t._v("New")]):t._e(),t.publication.isUnnoted?e("b-tag",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-dark",attrs:{icon:"alert-box-outline",size:"is-small","data-tippy-content":"Identified as yet unnoted: ".concat(t.publication.isUnnoted,".")}},[t._v("Unnoted")]):t._e(),t.publication.isOpenAccess?e("b-tag",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-dark",attrs:{icon:"lock-open-check-outline",size:"is-small","data-tippy-content":"Identified as open access: open access link available."}},[t._v("Open access")]):t._e()],1)],1),t.publication.isActive?e("div",[e("span",[t.publication.author?e("span",{domProps:{innerHTML:t._s(t.publication.authorOrcid+(t.publication.authorOrcid.endsWith(".")?"":"."))},on:{click:function(e){return e.stopPropagation(),t.refocus.apply(null,arguments)},mouseup:function(e){return"button"in e&&1!==e.button?null:(e.stopPropagation(),t.refocus.apply(null,arguments))}}}):t._e()]),t.publication.container?e("span",[e("em",{domProps:{innerHTML:t._s(" ".concat(t.publication.container))}}),t._v(". ")]):t._e(),t._m(0),e("a",{attrs:{href:t.publication.doiUrl},on:{click:function(e){return e.stopPropagation(),t.refocus.apply(null,arguments)},mouseup:function(e){return"button"in e&&1!==e.button?null:(e.stopPropagation(),t.refocus.apply(null,arguments))}}},[t._v(t._s(t.publication.doi))])]):t._e(),!t.publication.year&&!t.publication.title&!t.publication.author&&!t.publication.container&&t.publication.isActive?e("div",{staticClass:"notification has-background-danger-light has-text-danger-dark"},[t._v(" No metadata could be retrieved for the publication from "),e("a",{attrs:{href:"https://opencitations.net/index/coci/api/v1/metadata/".concat(t.publication.doi)},on:{click:function(e){return e.stopPropagation(),t.refocus.apply(null,arguments)},mouseup:function(e){return"button"in e&&1!==e.button?null:(e.stopPropagation(),t.refocus.apply(null,arguments))}}},[t._v("Open Citations")]),t._v(". "),0===t.publication.score?e("span",[t._v("Also, it is not cited by another selected publication—"),e("b",[t._v("please check if the DOI is correct.")])]):t._e()]):t._e(),!t.publication.year&&t.publication.isActive?e("div",{staticClass:"notification has-background-danger-light has-text-danger-dark"},[t._v(" The publication cannot be shown in the citation network visualization because of the unknown publication year. ")]):t._e(),t.publication.isActive?e("div",{staticClass:"stats-and-links level"},[e("div",{staticClass:"level-left"},[e("div",{class:"level-item ".concat(t.publication.referenceDois.length?"":"unknown")},[e("label",[e("b-icon",{attrs:{icon:"arrow-bottom-left-thick",size:"is-small"}}),t._v("Citing:")],1),e("b",[t._v(t._s(t.publication.referenceDois.length?t.publication.referenceDois.length.toLocaleString("en"):"not available"))])]),e("div",{staticClass:"level-item"},[e("label",[e("b-icon",{attrs:{icon:"arrow-top-left-thick",size:"is-small"}}),t._v("Cited by:")],1),e("b",[t._v(t._s(t.publication.citationDois.length.toLocaleString("en")))]),t.publication.citationsPerYear>0?e("span",[t._v("  ("+t._s(t.publication.citationsPerYear.toFixed(1))+"/year) ")]):t._e()])]),t.publication.title&&t.publication.isActive?e("div",{staticClass:"level-right"},[e("div",{staticClass:"level-item"},[t.publication.abstract?e("a",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{"data-tippy-content":"Abs<span class='key'>t</span>ract"},on:{click:function(e){return e.stopPropagation(),t.showAbstract.apply(null,arguments)},mouseup:function(e){return"button"in e&&1!==e.button?null:(e.stopPropagation(),t.showAbstract.apply(null,arguments))},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.showAbstract.apply(null,arguments)}}},[e("b-icon",{attrs:{icon:"text"}})],1):t._e(),t.publication.oaLink?e("a",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml-5",attrs:{href:t.publication.oaLink,"data-tippy-content":"<span class='key'>O</span>pen access"},on:{click:function(e){return e.stopPropagation(),t.refocus.apply(null,arguments)},mouseup:function(e){return"button"in e&&1!==e.button?null:(e.stopPropagation(),t.refocus.apply(null,arguments))}}},[e("b-icon",{attrs:{icon:"lock-open-check-outline"}})],1):t._e(),e("a",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml-5",attrs:{href:t.publication.gsUrl,"data-tippy-content":"<span class='key'>G</span>oogle Scholar"},on:{click:function(e){return e.stopPropagation(),t.refocus.apply(null,arguments)},mouseup:function(e){return"button"in e&&1!==e.button?null:(e.stopPropagation(),t.refocus.apply(null,arguments))}}},[e("b-icon",{attrs:{icon:"school"}})],1),e("a",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml-5",attrs:{"data-tippy-content":"Export as BibTe<span class='key'>X</span> citation"},on:{click:function(e){return e.stopPropagation(),t.exportBibtex.apply(null,arguments)},mouseup:function(e){return"button"in e&&1!==e.button?null:(e.stopPropagation(),t.exportBibtex.apply(null,arguments))},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.exportBibtex.apply(null,arguments)}}},[e("b-icon",{attrs:{icon:"format-quote-close"}})],1)])]):t._e()]):t._e()]),e("div",{staticClass:"media-right"},[e("div",[t.suggestion?e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-primary is-small",attrs:{"icon-left":"plus-thick","data-tippy-content":"Mark publication to be added to selected publications."},on:{click:function(e){return e.stopPropagation(),t.$emit("add",t.publication.doi)}}}):t._e()],1),e("div",[e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-small",attrs:{"icon-left":"minus-thick","data-tippy-content":"Mark publication to be excluded for suggestions."},on:{click:function(e){return e.stopPropagation(),t.sessionStore.queueForExcluded(t.publication.doi)}}})],1)])],1)],1)}),tt=[function(){var t=this,e=t._self._c;return e("label",[e("span",{staticClass:"key"},[t._v("D")]),t._v("OI:")])}],et={name:"PublicationComponent",setup:function(){var t=L(),e=h();return{sessionStore:t,interfaceStore:e}},props:{publication:Object,suggestion:Boolean},computed:{chevronType:function(){return this.publication.boostFactor>=8?"chevron-triple-up":this.publication.boostFactor>=4?"chevron-double-up":this.publication.boostFactor>1?"chevron-up":""}},methods:{activate:function(){this.sessionStore.activatePublicationComponentByDoi(this.publication.doi),this.$emit("activate",this.publication.doi)},showAbstract:function(){this.interfaceStore.showAbstract(this.publication)},exportBibtex:function(){this.sessionStore.exportSingleBibtex(this.publication),this.refocus()},refocus:function(){document.getElementById(this.publication.doi).focus()}}},it=et,nt=(0,I.Z)(it,V,tt,!1,null,null,null),st=nt.exports,ot={name:"SelectedPublicationsComponent",components:{PublicationComponent:st},props:{publications:Array,suggestion:Boolean},watch:{publications:{deep:!0,handler:function(){this.$nextTick(this.scrollToActivated)}}},data:function(){return{onNextActivatedScroll:!0}},methods:{addPublication:function(t){this.$emit("add",t)},activatePublication:function(){this.onNextActivatedScroll=!1},scrollToActivated:function(){if(this.onNextActivatedScroll){var t=this.$el.getElementsByClassName("active")[0];t&&(window.innerWidth<=1023?T(t,65):t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}))}else this.onNextActivatedScroll=!0}}},at=ot,rt=(0,I.Z)(at,G,X,!1,null,null,null),ct=rt.exports,lt={name:"SelectedPublicationsComponent",setup:function(){var t=L(),e=h();return{sessionStore:t,interfaceStore:e}},components:{BoostKeywordsComponent:W,PublicationListComponent:ct},mounted:function(){var t=this;this.sessionStore.$onAction((function(e){var i=e.name,n=e.after;n((function(){"updateQueued"===i&&(t.$refs.publicationList.$el.scrollTop=0)}))}))},methods:{importSession:function(){var t=this;this.$buefy.dialog.confirm({title:"Import session",message:'<label>Choose an exported session JSON file:&nbsp;</label>\n            <input type="file" id="import-json-input" accept="application/JSON"/>',onConfirm:function(){return t.sessionStore.importSession(document.getElementById("import-json-input").files[0])}})}}},ut=lt,dt=(0,I.Z)(ut,U,q,!1,null,"56a089ae",null),pt=dt.exports,ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"suggested-publications box has-background-info"},[e("div",{staticClass:"level box-header"},[e("div",{staticClass:"level-left has-text-white"},[e("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"level-item",attrs:{"data-tippy-content":"The <b>suggested publications</b> based on references to and from the selected publications, sorted by score."}},[e("b-icon",{attrs:{icon:"water-plus-outline"}}),e("h2",{staticClass:"is-size-5 ml-2"},[t._v("Suggested")])],1)]),t.sessionStore.suggestion?e("div",{staticClass:"level-right has-text-white"},[e("div",{staticClass:"level-item"},[e("tippy",{scopedSlots:t._u([{key:"trigger",fn:function(){return[e("div",[e("span",[e("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.isFilterPanelShown,expression:"isFilterPanelShown"}],attrs:{icon:"filter",size:"is-small"}}),t._v(" "+t._s(t.sessionStore.suggestedPublicationsFiltered.length)+" "),t.sessionStore.unreadSuggestionsCount>0?e("b-tag",{attrs:{icon:"bell",size:"is-small"}},[t._v(t._s(t.sessionStore.unreadSuggestionsCount))]):t._e(),t._v(" of "+t._s(t.sessionStore.suggestion.totalSuggestions.toLocaleString("en"))+" ")],1)])]},proxy:!0}],null,!1,2390841055)},[e("div",[e("b",[t._v(t._s(t.sessionStore.suggestedPublicationsFiltered.length))]),t._v(" suggested publication"+t._s(t.sessionStore.suggestedPublicationsFiltered.length>1?"s":"")+" "),t.sessionStore.unreadSuggestionsCount>0?e("span",[e("b",[t._v("("+t._s(t.sessionStore.unreadSuggestionsCount))]),t._v(" of them unread) ")]):t._e(),t.isFilterPanelShown?e("span",[t._v(" filtered from "),e("b",[t._v(t._s(t.sessionStore.suggestedPublications.length))]),t._v(" loaded ones, ")]):t._e(),t._v(" of in total "),e("b",[t._v(" "+t._s(t.sessionStore.suggestion.totalSuggestions.toLocaleString("en")))]),t._v(" cited/citing publication"+t._s(t.sessionStore.suggestion.totalSuggestions>1?"s":"")+". ")])]),e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"compact-button",attrs:{"icon-left":"playlist-plus","data-tippy-content":"Load more suggested publications.",disabled:t.sessionStore.suggestedPublications.length===t.sessionStore.suggestion.totalSuggestions},on:{click:function(e){return e.stopPropagation(),t.sessionStore.loadMoreSuggestions()}}})],1),t.sessionStore.suggestion?e("div",{staticClass:"level-item"},[e("b-field",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"ml-5",attrs:{"data-tippy-content":"Activate/deactivate <b>filter</b> to restrict suggested publications by different criteria."}},[e("b-switch",{attrs:{type:"is-black"},model:{value:t.isFilterPanelShown,callback:function(e){t.isFilterPanelShown=e},expression:"isFilterPanelShown"}},[e("b-icon",{attrs:{icon:"filter",size:"is-small"}}),t._v(" "),e("span",{staticClass:"key"},[t._v("F")]),t._v("ilter")],1)],1)],1):t._e()]):t._e()]),e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isFilterPanelShown,expression:"isFilterPanelShown"}],staticClass:"notification has-background-info-light p-2 pt-3 columns is-gapless"},[e("div",{staticClass:"column"},[e("b-field",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{label:"Search","label-position":"on-border","data-tippy-content":"Filter by <b>search in meta-data</b> such as title, authors, and journal name."}},[e("p",{staticClass:"control"},[e("b-button",{staticClass:"is-static",class:{active:t.filterString},attrs:{"icon-left":"card-search"}})],1),e("b-input",{attrs:{placeholder:"Text","icon-right":"close-circle","icon-right-clickable":"",expanded:""},on:{input:t.updateFilter,"icon-right-click":t.clearFilterString},model:{value:t.filterString,callback:function(e){t.filterString=e},expression:"filterString"}})],1)],1),e("div",{staticClass:"column"},[e("b-field",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{label:"Year","label-position":"on-border","data-tippy-content":"Filter by <b>publication year</b> (leave blank for unrestricted start/end year)."}},[e("p",{staticClass:"control"},[e("b-button",{staticClass:"is-static",class:{active:t.sessionStore.filter.isYearActive()},attrs:{"icon-left":"calendar"}})],1),e("b-field",{attrs:{expanded:""}},[e("b-input",{attrs:{id:"filter-year-start",placeholder:"From",type:"text",pattern:"\\d\\d\\d\\d","validation-message":"Enter a four-digit year."},on:{input:t.updateFilter},model:{value:t.filterYearStart,callback:function(e){t.filterYearStart=e},expression:"filterYearStart"}})],1),e("b-field",{attrs:{expanded:""}},[e("b-input",{attrs:{id:"filter-year-end",placeholder:"To",type:"text",pattern:"\\d\\d\\d\\d","validation-message":"Enter a four-digit year."},on:{input:t.updateFilter},model:{value:t.filterYearEnd,callback:function(e){t.filterYearEnd=e},expression:"filterYearEnd"}})],1)],1)],1),e("div",{staticClass:"column"},[e("b-field",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{label:"Tag","label-position":"on-border","data-tippy-content":"Filter by automatically <b>assigned tag</b>."}},[e("p",{staticClass:"control"},[e("b-button",{staticClass:"is-static",class:{active:t.filterTag},attrs:{"icon-left":"tag"}})],1),e("b-select",{class:{inactive:!t.filterTag},attrs:{id:"filter-tag",expanded:""},on:{input:t.updateFilter},model:{value:t.filterTag,callback:function(e){t.filterTag=e},expression:"filterTag"}},[e("option",{attrs:{value:""}},[t._v("None/any")]),t._l(t.TAGS,(function(i){return e("option",{key:i.value,domProps:{value:i.value}},[t._v(" "+t._s(i.name)+" ")])}))],2)],1)],1)])]),e("PublicationListComponent",{ref:"publicationList",attrs:{publications:t.sessionStore.suggestedPublicationsFiltered,suggestion:!0},on:{add:t.addPublication}})],1)},bt=[],ft={name:"SuggestedPublicationsComponent",setup:function(){var t=L(),e=h(),i=(0,l.Jk)(e),n=i.isFilterPanelShown;return{sessionStore:t,isFilterPanelShown:n}},components:{PublicationListComponent:ct},props:{title:String},data:function(){return{TAGS:C.TAGS,filterString:"",filterYearStart:"",filterYearEnd:"",filterTag:""}},watch:{isFilterPanelShown:{handler:function(){this.updateFilter()}}},mounted:function(){var t=this;this.sessionStore.$onAction((function(e){var i=e.name,n=e.after;n((function(){"updateQueued"===i&&(t.$refs.publicationList.$el.scrollTop=0)}))}))},methods:{addPublication:function(t){this.sessionStore.queueForSelected(t)},updateFilter:function(){this.isFilterPanelShown?(this.sessionStore.filter.string=this.filterString,this.sessionStore.filter.yearStart=this.filterYearStart,this.sessionStore.filter.yearEnd=this.filterYearEnd,this.sessionStore.filter.tag=this.filterTag):this.sessionStore.filter=new A},clearFilterString:function(){this.filterString="",this.updateFilter()}}},vt=ft,gt=(0,I.Z)(vt,ht,bt,!1,null,"04fc70fa",null),mt=gt.exports,yt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"network-of-references"},[e("div",{staticClass:"box has-background-grey"},[e("div",{staticClass:"level"},[e("div",{staticClass:"level-left has-text-white"},[e("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"level-item",attrs:{"data-tippy-content":"Showing publications as nodes (<b class='has-text-primary'>selected</b>; <b class='has-text-info'>suggested</b>) with citations as links.<br><br>You can click a publication for details as well as zoom and pan the diagram."}},[e("b-icon",{attrs:{icon:"chart-bubble"}}),e("h2",{staticClass:"is-size-5 ml-2"},[t._v("Citation network")])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.sessionStore.isEmpty,expression:"!sessionStore.isEmpty"}],staticClass:"level-right"},[e("b-field",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"level-item has-text-white mr-4 mb-0",attrs:{"data-tippy-content":"There are two display <span class='key'>m</span>odes:<br><br><b>Timeline:</b> The diagram places publications from left to right based on year, and vertically tries to group linked publications close to each other.<br><br><b>Clusters:</b> The diagram groups linked publications close to each other, irrespective of publication year."}},[e("label",{staticClass:"mr-2"},[e("span",{staticClass:"key"},[t._v("M")]),t._v("ode:")]),e("label",{staticClass:"mr-2",class:{"has-text-grey-light":t.isNetworkClusters}},[t._v(" Timeline")]),e("b-switch",{attrs:{type:"is-dark","passive-type":"is-dark"},nativeOn:{click:function(t){t.stopPropagation()}},model:{value:t.isNetworkClusters,callback:function(e){t.isNetworkClusters=e},expression:"isNetworkClusters"}}),e("label",{class:{"has-text-grey-light":!t.isNetworkClusters}},[t._v("Clusters")])],1),e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"},{name:"show",rawName:"v-show",value:!t.interfaceStore.isNetworkExpanded,expression:"!interfaceStore.isNetworkExpanded"}],staticClass:"level-item compact-button is-hidden-touch",attrs:{"icon-right":"arrow-expand","data-tippy-content":"Expand diagram"},on:{click:function(e){e.stopPropagation(),t.interfaceStore.isNetworkExpanded=!0}}}),e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"},{name:"show",rawName:"v-show",value:t.interfaceStore.isNetworkExpanded,expression:"interfaceStore.isNetworkExpanded"}],staticClass:"level-item compact-button is-hidden-touch",attrs:{"icon-right":"arrow-collapse","data-tippy-content":"Collapse diagram"},on:{click:function(e){e.stopPropagation(),t.interfaceStore.isNetworkExpanded=!1}}})],1)]),e("div",{attrs:{id:"network-svg-container"}},[e("svg",{attrs:{id:"network-svg",width:"100%",height:"100%"}})])])])},wt=[],St=(i(9254),i(1532),i(9325)),kt=i(6488),xt=(i(6718),20),Ct=1.5,_t=20,Pt=.4,Et={name:"NetworkVisComponent",setup:function(){var t=L(),e=(0,l.Jk)(t),i=e.filter,n=e.activePublication,s=h(),o=(0,l.Jk)(s),a=o.isNetworkClusters;return{sessionStore:t,filter:i,activePublication:n,interfaceStore:s,isNetworkClusters:a}},data:function(){return{graph:{nodes:[],links:[]},simulation:null,svg:null,svgHeight:Number,svgWidth:Number,node:null,link:null,label:null}},watch:{isNetworkClusters:{handler:function(){this.plot(!0)}},filter:{deep:!0,handler:function(){this.plot(!0)}},activePublication:{handler:function(){this.interfaceStore.isLoading||this.plot()}}},mounted:function(){var t=this,e=this,i=document.getElementById("network-svg-container");this.svgWidth=i.clientWidth,this.svgHeight=i.clientHeight,this.svg=St.Ys("#network-svg").call(St.sPX().on("zoom",(function(t,i){e.svg.attr("transform",t.transform)}))).append("g"),this.simulation=St.A4v(),this.simulation.alphaDecay(.02),this.label=this.svg.append("g").attr("class","labels").selectAll("text"),this.link=this.svg.append("g").attr("class","links").selectAll("path"),this.node=this.svg.append("g").attr("class","nodes").selectAll("rect"),this.sessionStore.$onAction((function(e){var i=e.name,n=e.after;n((function(){"updateScores"===i?t.plot(!0):(!t.interfaceStore.isLoading&&"clear"===i||"queueForSelected"===i||"queueForExcluded"===i||"removeFromQueues"===i||"clearQueues"===i)&&t.plot()}))}))},methods:{initForces:function(){var t=this,e=this;this.simulation.force("link",St.Fsl().id((function(t){return t.id})).distance((function(t){return e.isNetworkClusters&&t.internal?500/e.sessionStore.selectedPublications.length:"keyword"===t.type?0:10})).strength((function(t){var i=t.internal?1:.5,n=e.isNetworkClusters?1:.5;return.15*n*i}))).force("charge",St.q5i().strength(Math.min(-200,-100*Math.sqrt(e.sessionStore.selectedPublications.length)))).force("x",St.RUJ().x((function(i){return e.isNetworkClusters?.5*(e.svgWidth-xt):t.yearX(i.publication?i.publication.year:2025)})).strength(e.isNetworkClusters?.05:10)).force("y",St.Mrm().y(.5*(e.svgHeight-xt)).strength(e.isNetworkClusters?.1:.25)).on("tick",this.tick)},plot:function(t){try{console.log("Plotting citation network ".concat(t?"with":"without"," restarting layout computation.")),this.initForces(),e.call(this),s.call(this),o.call(this),a.call(this),this.simulation.nodes(this.graph.nodes),this.simulation.force("link").links(this.graph.links),t&&this.simulation.alpha(Pt),this.simulation.restart()}catch(r){console.error("Cannot plot network: "+r.message),this.interfaceStore.showErrorMessage("Sorry, an error occurred while plotting the citation network.")}function e(){var t=this;this.doiToIndex={};var e=i.call(this),s=n.call(this),o=new Map(this.node.data().map((function(t){return[t.id,t]})));this.graph.nodes=e.map((function(e){return Object.assign(o.get(e.id)||{x:t.svgWidth/2,y:0},e)})),this.graph.links=s.map((function(t){return Object.assign({},t)}))}function i(){var t=this,e=[],i=0;this.sessionStore.publicationsFiltered.forEach((function(n){n.year&&(t.doiToIndex[n.doi]=i,e.push({id:n.doi,publication:n,isQueuingForSelected:t.sessionStore.isQueuingForSelected(n.doi),isQueuingForExcluded:t.sessionStore.isQueuingForExcluded(n.doi)}),i++)}));var n=[];this.sessionStore.uniqueBoostKeywords.forEach((function(e){var i=t.sessionStore.publications.filter((function(t){return t.boostKeywords.includes(e)})).length;n.push({id:e,frequency:i})}));var s=e.concat(n);return s}function n(){var t=this,e=[];return this.sessionStore.uniqueBoostKeywords.forEach((function(i){t.sessionStore.publicationsFiltered.forEach((function(t){t.boostKeywords.includes(i)&&e.push({source:i,target:t.doi,type:"keyword"})}))})),this.sessionStore.selectedPublications.forEach((function(i){i.doi in t.doiToIndex&&(i.citationDois.forEach((function(n){n in t.doiToIndex&&e.push({source:n,target:i.doi,type:"citation",internal:t.sessionStore.isSelected(n)})})),i.referenceDois.forEach((function(n){n in t.doiToIndex&&e.push({source:i.doi,target:n,type:"citation",internal:t.sessionStore.isSelected(n)})})))})),e}function s(){var t=this;this.node=this.node.data(this.graph.nodes,(function(t){return t.id})).join((function(e){var i=e.append("g").attr("class",(function(t){return"node-container ".concat(t.publication?"publication":"keyword")})),n=i.filter((function(t){return t.publication}));n.append("rect"),n.append("text").classed("score",!0),n.append("text").classed("labelQueuingForSelected",!0).attr("x",15).attr("y",15).text("+"),n.append("text").classed("labelQueuingForExcluded",!0).attr("x",15).attr("y",15).text("-"),n.append("circle"),n.on("click",t.activatePublication);var s=i.filter((function(t){return!t.publication}));return s.append("text"),s.call(t.keywordNodeDrag()).on("click",t.keywordNodeClick),i}));try{e.call(this)}catch(r){throw new Error("Cannot update publication nodes in network: "+r.message)}try{i.call(this)}catch(r){throw new Error("Cannot update keyword nodes in network: "+r.message)}function e(){var t=this.node.filter((function(t){return t.publication}));t.classed("selected",(function(t){return t.publication.isSelected})).classed("suggested",(function(t){return!t.publication.isSelected})).classed("active",(function(t){return t.publication.isActive})).classed("linkedToActive",(function(t){return t.publication.isLinkedToActive})).classed("queuingForSelected",(function(t){return t.isQueuingForSelected})).classed("queuingForExcluded",(function(t){return t.isQueuingForExcluded})),this.publicationTooltips&&this.publicationTooltips.forEach((function(t){return t.destroy()})),t.attr("data-tippy-content",(function(t){return"<b>".concat(t.publication.title?t.publication.title:"[unknown title]","</b> (").concat(t.publication.authorShort?t.publication.authorShort+", ":"").concat(t.publication.year?t.publication.year:"[unknown year]",")\n              <br><br>\n              The publication is ").concat(t.publication.isSelected?"selected":"suggested").concat(t.isQueuingForSelected?" and marked to be added to selected publications":"").concat(t.isQueuingForExcluded?" and marked to be added to excluded publications":"",".")})),this.publicationTooltips=(0,kt.ZP)(t.nodes(),{maxWidth:"min(400px,70vw)",allowHTML:!0}),t.select("rect").attr("width",(function(t){return n(t)})).attr("height",(function(t){return n(t)})).attr("x",(function(t){return-n(t)/2})).attr("y",(function(t){return-n(t)/2})).attr("stroke-width",(function(t){return t.publication.isActive?4:3})).attr("fill",(function(t){return t.publication.scoreColor})),t.select(".publication text.score").classed("unread",(function(t){return!t.publication.isRead&&!t.publication.isSelected})).attr("y",1).attr("font-size","0.8em").text((function(t){return t.publication.score})),t.select("circle").attr("cx",(function(t){return n(t)/2-1})).attr("cy",(function(t){return-n(t)/2+1})).attr("r",(function(t){return t.publication.boostFactor>1?s(t)/6:0})).attr("stroke","black")}function i(){var t=this,e=this.node.filter((function(t){return!t.publication}));e.classed("linkedToActive",(function(e){return t.sessionStore.isKeywordLinkedToActive(e.id)})),this.keywordTooltips&&this.keywordTooltips.forEach((function(t){return t.destroy()})),e.attr("data-tippy-content",(function(e){return'Keyword "'.concat(e.id,'" is matched in ').concat(e.frequency," publication").concat(e.frequency>1?"s":"").concat(t.sessionStore.isKeywordLinkedToActive(e.id)?", and also linked to the currently active publication":"",".<br><br>Drag to reposition (sticky), click to detach.")})),this.keywordTooltips=(0,kt.ZP)(e.nodes(),{maxWidth:"min(400px,70vw)",allowHTML:!0}),e.select("text").attr("y",1).attr("font-size",(function(t){return t.frequency>=25?"1.1em":t.frequency>=10?"0.9em":t.frequency>=5?"0.8em":"0.7em"})).text((function(t){return t.id.includes("|")?t.id.split("|")[0]+"|..":t.id}))}function n(t){return xt*(t.publication.isActive?Ct:1)}function s(t){var e=1;return t.publication.boostFactor>=8?e=1.8:t.publication.boostFactor>=4?e=1.5:t.publication.boostFactor>1&&(e=1.2),n(t)*e*.8}}function o(){this.link=this.link.data(this.graph.links,(function(t){return[t.source,t.target]})).join("path")}function a(){var t=this;if(0!==this.sessionStore.publicationsFiltered.length){var e=m().range(this.sessionStore.yearMin-4,this.sessionStore.yearMax+1).filter((function(t){return t%5===0}));this.label=this.label.data(e,(function(t){return t})).join((function(t){var e=t.append("g");return e.append("text"),e.append("text"),e})),this.label.selectAll("text").attr("text-anchor","middle").attr("visibility",this.sessionStore.isEmpty||this.isNetworkClusters?"hidden":"visible").text((function(t){return t})).attr("fill","grey"),this.sessionStore.isEmpty||this.label.attr("transform",(function(e){return"translate(".concat(t.yearX(e),",").concat(t.svgHeight-_t,")")})).select("text").attr("y",-this.svgHeight+2*_t)}}},tick:function(){this.link.attr("d",(function(t){var e=t.target.x-t.source.x,i=t.target.y-t.source.y;if("citation"===t.type){var n=Math.pow(e*e+i*i,.6);return"M".concat(t.target.x,",").concat(t.target.y,"A").concat(n,",").concat(n," 0 0,1 ").concat(t.source.x,",").concat(t.source.y)}var s=Math.sqrt(Math.pow(e,2)+Math.pow(i,2)),o=Math.acos(e/s),a=2/s,r=s*Math.cos(o+a),c=s*Math.sin(o+a),l=s*Math.cos(o-a),u=s*Math.sin(o-a);return t.source.y>t.target.y&&(c=-c,u=-u),"M".concat(t.target.x-r,",").concat(t.target.y-c,"\n            L").concat(t.target.x,",").concat(t.target.y,"\n            L").concat(t.target.x-l,",").concat(t.target.y-u)})).attr("class",(function(t){var e=[t.type];return"citation"===t.type&&((t.source.publication.isActive||t.target.publication.isActive)&&e.push("active"),t.source.publication.isSelected&&t.target.publication.isSelected||e.push("external")),e.join(" ")})),this.node.attr("transform",(function(t){return"translate(".concat(t.x,", ").concat(t.y,")")}))},keywordNodeDrag:function(){var t=this;function e(){St.Ys(this).classed("fixed",!0)}function i(e,i){i.fx=e.x,i.fy=e.y,t.simulation.alpha(Pt).restart()}return St.ohM().on("start",e).on("drag",i)},keywordNodeClick:function(t,e){delete e.fx,delete e.fy,St.Ys(t.target.parentNode).classed("fixed",!1),this.simulation.alpha(Pt).restart()},yearX:function(t){return(t-this.sessionStore.yearMin)/Math.sqrt(1+this.sessionStore.yearMax-this.sessionStore.yearMin)*this.svgWidth*.15},activatePublication:function(t,e){this.sessionStore.activatePublicationComponentByDoi(e.publication.doi),t.stopPropagation()},toggleMode:function(){this.isNetworkClusters=!this.isNetworkClusters}}},Nt=Et,At=(0,I.Z)(Nt,yt,wt,!1,null,null,null),Ft=At.exports,Tt=function(){var t=this,e=t._self._c;return e("div",[e("button",{directives:[{name:"show",rawName:"v-show",value:t.sessionStore.isUpdatable,expression:"sessionStore.isUpdatable"}],staticClass:"button has-background-primary has-text-white",attrs:{id:"quick-access-update"},on:{click:t.sessionStore.updateQueued}},[e("b-icon",{attrs:{icon:"update",size:"is-small"}}),e("div",{staticClass:"button-label"},[t._v("Update")])],1),e("button",{staticClass:"button has-background-primary has-text-white",class:{active:t.isComponentActive.selected},on:{click:function(e){return t.scrollTo("selected")}}},[e("b-icon",{attrs:{icon:"water-outline"}}),e("div",{staticClass:"button-label"},[t._v("Selected")])],1),e("button",{staticClass:"button has-background-info has-text-white",class:{active:t.isComponentActive.suggested},on:{click:function(e){return t.scrollTo("suggested")}}},[e("b-icon",{attrs:{icon:"water-plus-outline"}}),e("div",{staticClass:"button-label"},[t._v("Suggested")])],1),e("button",{staticClass:"button has-background-grey has-text-white",class:{active:t.isComponentActive.network},on:{click:function(e){return t.scrollTo("network")}}},[e("b-icon",{attrs:{icon:"chart-bubble"}}),e("div",{staticClass:"button-label"},[t._v("Network")])],1)])},Dt=[],Lt={name:"QuickAccessBar",setup:function(){var t=L();return{sessionStore:t}},mounted:function(){document.addEventListener("scroll",this.updateActiveButton)},data:function(){return{isComponentActive:{selected:!0,suggested:!1,network:!1}}},methods:{scrollTo:function(t){T(document.getElementById(t),55)},updateActiveButton:function(){this.isComponentActive={selected:!1,suggested:!1,network:!1};for(var t=.7*document.documentElement.clientHeight,e=0,i=Object.keys(this.isComponentActive);e<i.length;e++){var n=i[e],s=document.getElementById(n),o=s.getBoundingClientRect();if(this.isComponentActive[n]=o.top>=0&&o.top<=t||o.top<0&&o.bottom>t,this.isComponentActive[n])break}}}},Ot=Lt,Qt=(0,I.Z)(Ot,Tt,Dt,!1,null,"41dfca4e",null),Mt=Qt.exports,Bt=(i(4765),function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{active:t.interfaceStore.isSearchPanelShown},on:{close:t.cancel}},[e("div",{staticClass:"card"},[e("header",{staticClass:"card-header has-background-primary"},[e("p",{staticClass:"card-header-title has-text-white"},[e("b-icon",{attrs:{icon:"magnify"}}),t._v(" Search/import publications ")],1)]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"content"},[e("section",[e("form",{staticClass:"field has-addons mb-2",on:{submit:function(e){return e.preventDefault(),t.search.apply(null,arguments)}}},[e("p",{staticClass:"control is-expanded m-0"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.interfaceStore.searchQuery,expression:"interfaceStore.searchQuery"}],ref:"searchInput",staticClass:"input search-publication",attrs:{type:"text"},domProps:{value:t.interfaceStore.searchQuery},on:{input:function(e){e.target.composing||t.$set(t.interfaceStore,"searchQuery",e.target.value)}}})]),e("p",{staticClass:"control"},[e("b-button",{staticClass:"button level-right has-background-primary-light",attrs:{type:"submit","icon-left":"magnify"},on:{click:function(e){return e.stopPropagation(),t.search.apply(null,arguments)}}})],1)]),e("p",{staticClass:"notification has-background-primary-light p-2 mb-2"},[e("span",{directives:[{name:"show",rawName:"v-show",value:"empty"===t.searchResults.type,expression:"searchResults.type === 'empty'"}]},[e("i",[e("b",[t._v("Search")]),t._v(" for keywords, names, etc. "),e("b",[t._v("or import")]),t._v(" as "),e("a",{staticClass:"href",attrs:{href:"https://www.doi.org/"}},[t._v("DOI(s)")]),t._v(" contained in any format.")])]),e("span",{directives:[{name:"show",rawName:"v-show",value:["doi","search"].includes(t.searchResults.type),expression:"['doi', 'search'].includes(searchResults.type)"}]},[t._v("Showing "),e("b",[t._v(t._s(t.filteredSearchResults.length)+" publication"+t._s(1!=t.filteredSearchResults.length?"s":""))]),t._v(" based on "),e("span",{directives:[{name:"show",rawName:"v-show",value:"doi"===t.searchResults.type,expression:"searchResults.type === 'doi'"}]},[t._v("detected "),e("b",[t._v("DOIs")])]),e("span",{directives:[{name:"show",rawName:"v-show",value:"search"===t.searchResults.type,expression:"searchResults.type === 'search'"}]},[e("b",[t._v("search")])]),t._v(".")]),e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"},{name:"show",rawName:"v-show",value:"doi"===t.searchResults.type&&t.searchResults.results.length>0,expression:"\n                searchResults.type === 'doi' &&\n                searchResults.results.length > 0\n              "}],staticClass:"compact-button ml-4 has-background-primary",attrs:{"icon-left":"plus-thick","data-tippy-content":"Mark publication to be added to selected publications."},on:{click:function(e){return e.stopPropagation(),t.addAllPublications.apply(null,arguments)}}},[t._v("Add all")])],1),e("ul",{staticClass:"publication-list"},[t._l(t.filteredSearchResults,(function(i){return e("li",{key:i.doi,staticClass:"publication-component media"},[e("div",{staticClass:"media-content"},[i.wasFetched&&!i.title?e("b",{staticClass:"has-text-danger-dark"},[t._v("[No metadata available]")]):t._e(),i.wasFetched?e("b",{domProps:{innerHTML:t._s(i.title)}}):t._e(),i.author?e("span",[t._v(" ("),e("span",[t._v(t._s(i.authorShort?i.authorShort+", ":""))]),e("span",{class:i.year?"":"unknown"},[t._v(t._s(i.year?i.year:"[unknown year]"))]),t._v(")")]):t._e(),e("span",[t._v(" DOI: "),e("a",{attrs:{href:"https://doi.org/".concat(i.doi)}},[t._v(t._s(i.doi))])]),e("span",{directives:[{name:"show",rawName:"v-show",value:i.title,expression:"publication.title"}]},[e("a",{staticClass:"ml-2",attrs:{href:"https://scholar.google.de/scholar?hl=en&q=".concat(i.title," ").concat(i.author?i.author:"")}},[e("b-icon",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{icon:"school",size:"is-small","data-tippy-content":"Google Scholar"}})],1)])]),e("div",{staticClass:"media-right"},[e("div",[e("b-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"is-primary is-small",attrs:{"icon-left":"plus-thick","data-tippy-content":"Mark publication to be added to selected publications."},on:{click:function(e){return e.stopPropagation(),t.addPublication(i.doi)}}})],1)])])})),e("b-loading",{model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}})],2)])])]),e("footer",{staticClass:"card-footer level"},[e("div",{staticClass:"level-left"},[e("div",{staticClass:"level-item"},[e("p",[e("b",[e("span",{directives:[{name:"show",rawName:"v-show",value:0===t.addedPublications.length,expression:"addedPublications.length === 0"}]},[t._v("No")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.addedPublications.length>0,expression:"addedPublications.length > 0"}]},[t._v(t._s(t.addedPublications.length))]),t._v(" publication"),e("span",{directives:[{name:"show",rawName:"v-show",value:t.addedPublications.length>1,expression:"addedPublications.length > 1"}]},[t._v("s")])]),e("span",{directives:[{name:"show",rawName:"v-show",value:0===t.addedPublications.length,expression:"addedPublications.length === 0"}]},[t._v(" yet marked")]),t._v(" to be added to selected. ")])])]),e("div",{staticClass:"level-right"},[e("b-button",{staticClass:"level-item",on:{click:function(e){return t.cancel()}}},[t._v("Cancel")]),e("b-button",{staticClass:"level-item is-primary",attrs:{disabled:0===t.addedPublications.length,"icon-left":"plus-thick"},on:{click:t.addAndClose}},[t._v("Add and update")])],1)])])])}),Zt=[],It=function(){function t(e){(0,f.Z)(this,t),this.query=e}return(0,v.Z)(t,[{key:"execute",value:function(){var t=(0,r.Z)((0,a.Z)().mark((function t(){var e,i,n;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=[],i=[],this.query.split(/ |"|\{|\}|%|#|\?|<|>|\[|\]|\\|\||`|\+|doi:|doi.org\//).forEach((function(t){if(t=m().trim(t,".,;"),0===t.indexOf("10.")&&!e.includes(t)){e.push(t);var n=new C(t);n.fetchData(),i.push(n)}})),!e.length){t.next=6;break}return console.log("Identified ".concat(i.length," DOI(s) in input; do not perform search.")),t.abrupt("return",{results:i,type:"doi"});case 6:return n=this.query.replace(/\W+/g,"+").toLowerCase(),console.log("Searching for publications matching '".concat(this.query,"'.")),t.next=10,S("https://api.crossref.org/works?query=".concat(n,"&mailto=fabian.beck@uni-bamberg.de&filter=has-references:true"),(function(t){t.message.items.filter((function(t){return t.title})).forEach((function(t){var e=new C(t.DOI);e.fetchData(),i.push(e)}))}));case 10:return t.abrupt("return",{results:i,type:"search"});case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"computeTitleSimilarity",value:function(t,e){var i=["the","for","with","and"],n=0,s=0,o=" "+e.replace(/\W+/g," ").toLowerCase()+" ";return t.split("+").forEach((function(t){t.length>2&&-1===i.indexOf(t)&&(s++,o.indexOf(" "+t+" ")>=0&&n++)})),n/s}}]),t}(),Rt={name:"SearchPanel",setup:function(){var t=L(),e=h(),i=(0,l.Jk)(e),n=i.isSearchPanelShown;return{sessionStore:t,interfaceStore:e,isSearchPanelShown:n}},data:function(){return{searchResults:{results:[],type:"empty"},addedPublications:[],isLoading:!1}},computed:{filteredSearchResults:function(){var t=this;return this.searchResults.results.filter((function(e){return!t.sessionStore.selectedPublicationsDois.includes(e.doi)&&!t.sessionStore.selectedQueue.includes(e.doi)&&!t.addedPublications.includes(e.doi)}))}},watch:{isSearchPanelShown:{handler:function(){var t=this;this.isSearchPanelShown&&(setTimeout((function(){t.$refs.searchInput.focus()}),300),this.interfaceStore.searchQuery&&this.search())}}},methods:{search:function(){var t=(0,r.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.interfaceStore.searchQuery){t.next=3;break}return this.searchResults={results:[],type:"empty"},t.abrupt("return");case 3:return this.isLoading=!0,e=new It(this.interfaceStore.searchQuery),t.next=7,e.execute();case 7:this.searchResults=t.sent,0===this.filteredSearchResults.length&&this.interfaceStore.showErrorMessage("No matching publications found"),this.isLoading=!1;case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addPublication:function(t){this.addedPublications.push(t)},addAllPublications:function(){var t=this;this.filteredSearchResults.forEach((function(e){t.addPublication(e.doi)})),this.searchResults={results:[],type:"empty"},this.interfaceStore.searchQuery=""},addAndClose:function(){this.sessionStore.addPublicationsAndUpdate(this.addedPublications),this.close()},cancel:function(){var t=this;0!==this.addedPublications.length?this.interfaceStore.showConfirmDialog("Do you really want to discard the list of added publications?",(function(){t.close()})):this.close()},close:function(){this.interfaceStore.isSearchPanelShown=!1,this.reset()},reset:function(){this.searchResults={results:[],type:"empty"},this.addedPublications=[],this.isLoading=!1}}},Kt=Rt,Ut=(0,I.Z)(Kt,Bt,Zt,!1,null,null,null),qt=Ut.exports,Yt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card",attrs:{id:"about"}},[e("header",{staticClass:"card-header has-background-light"},[e("p",{staticClass:"card-header-title"},[e("b-icon",{attrs:{icon:"information-outline"}}),t._v(" About ")],1)]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"content"},[e("section",[e("div",{staticClass:"level"},[e("div",{staticClass:"level-left"},[e("div",{staticClass:"level-item"},[e("span",{staticClass:"title",domProps:{innerHTML:t._s(this.$appNameHtml)}})]),e("div",{staticClass:"level-item"},[e("span",{staticClass:"subtitle"},[t._v(t._s(this.$appSubtitle))])])]),e("div",{staticClass:"level-right"},[e("span",{staticClass:"is-size-7 level-item"},[e("label",[t._v("Version: ")]),t._v(t._s(this.$version))])])]),t._m(0),e("p",[t._v(" The code is available on "),e("a",{attrs:{href:"https://github.com/fabian-beck/pure-suggest"}},[t._v("GitHub "),e("b-icon",{attrs:{icon:"github",size:"is-small"}})],1),t._v(" under "),e("a",{attrs:{href:"https://github.com/fabian-beck/pure-suggest/blob/master/LICENSE"}},[t._v("MIT License "),e("b-icon",{attrs:{icon:"license",size:"is-small"}})],1),t._v(". ")]),e("p",[t._v(" Follow updates on "),e("a",{attrs:{href:"https://twitter.com/pure_suggest"}},[t._v(" Twitter "),e("b-icon",{attrs:{icon:"twitter",size:"is-small"}}),t._v(" (@pure_suggest) ")],1),t._v(". ")]),e("h2",[e("b-icon",{attrs:{icon:"file-document"}}),t._v(" Scientific Publication")],1),e("p",[t._v(" If you want to read more or cite the tool, you can refer to the following publication: ")]),t._m(1),e("h2",[e("b-icon",{attrs:{icon:"database"}}),t._v(" Data Sources")],1),e("p",[t._v(" APIs by the following projects are used to retrieve the literature meta-data and citation information. ")]),t._m(2),e("h2",[e("b-icon",{attrs:{icon:"tools"}}),t._v(" Similar Tools")],1),t._m(3),t._m(4),e("h2",[e("b-icon",{attrs:{icon:"card-account-mail"}}),t._v(" Contact")],1),t._m(5),t._m(6),t._m(7)])])])])},zt=[function(){var t=this,e=t._self._c;return e("p",[e("em",[t._v("PURE suggest")]),t._v(" is a scientific literature search tool that, starting from some seed papers, suggests scientific publications through citations/references. ")])},function(){var t=this,e=t._self._c;return e("ul",[e("li",[t._v(" Beck, F. and Krause, C., 2022. Visually Explaining Publication Ranks in Citation-based Literature Search with PURE suggest. In EuroVis 2022 - Posters. DOI: "),e("a",{attrs:{href:"https://diglib.eg.org/handle/10.2312/evp20221110"}},[t._v("10.2312/evp.20221110")]),t._v(". ["),e("a",{attrs:{href:"https://diglib.eg.org/bitstream/handle/10.2312/evp20221110/019-021.pdf"}},[t._v("PDF")]),t._v("] ")])])},function(){var t=this,e=t._self._c;return e("ul",[e("li",[e("a",{attrs:{href:"https://opencitations.net/"}},[t._v("OpenCitations")])]),e("li",[e("a",{attrs:{href:"https://www.crossref.org/"}},[t._v("CrossRef")])])])},function(){var t=this,e=t._self._c;return e("p",[e("em",[t._v("PURE suggest")]),t._v(" is not the first of its kind, but other tools are available that also provide a visually supported literature search through citation links. Try them out and decide yourself which one you like best! ")])},function(){var t=this,e=t._self._c;return e("ul",[e("li",[e("a",{attrs:{href:"https://www.citationgecko.com/"}},[t._v("Citation Gecko")])]),e("li",[e("a",{attrs:{href:"https://www.connectedpapers.com"}},[t._v("Connected Papers")])]),e("li",[e("a",{attrs:{href:"https://inciteful.xyz/"}},[t._v("Inciteful")])]),e("li",[e("a",{attrs:{href:"https://www.researchrabbit.ai/"}},[t._v("Research Rabbit")])])])},function(){var t=this,e=t._self._c;return e("p",[e("em",[t._v("PURE suggest")]),t._v(" has been created by:")])},function(){var t=this,e=t._self._c;return e("p",[e("a",{attrs:{href:"https://github.com/fabian-beck"}},[t._v("Fabian Beck")]),t._v(" "),e("br"),t._v(" University of Bamberg "),e("br"),t._v(" 96047 Bamberg, Germany "),e("br"),e("a",{attrs:{href:"mailto:fabian.beck@uni-bamberg.de"}},[t._v("fabian.beck@uni-bamberg.de")])])},function(){var t=this,e=t._self._c;return e("p",[t._v(" Thanks a lot to all other contributors, especially "),e("a",{attrs:{href:"https://github.com/cedrickrause"}},[t._v("Cedric Krause")]),t._v(". ")])}],Ht={},jt=(0,I.Z)(Ht,Yt,zt,!1,null,"f6286bb4",null),$t=jt.exports,Jt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card",attrs:{id:"keyboardControls"}},[e("header",{staticClass:"card-header has-background-light"},[e("p",{staticClass:"card-header-title"},[e("b-icon",{attrs:{icon:"keyboard-outline"}}),t._v(" Keyboard Controls ")],1)]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"content"},[e("section",[e("p",[t._v(" You can use the following keyboard shortcuts to control the application. ")]),e("h2",[t._v("General")]),e("ul",{staticClass:"keys"},[e("li",[e("b-icon",{attrs:{icon:"alpha-b-box-outline"}}),t._v(' Jump to "Boost" input field ')],1),e("li",[e("b-icon",{attrs:{icon:"alpha-a-box-outline"}}),t._v(' Jump to "Add" input field ')],1),e("li",[e("b-icon",{attrs:{icon:"alpha-s-box-outline"}}),t._v(' Open "Search" dialog ')],1),e("li",[e("b-icon",{attrs:{icon:"alpha-u-box-outline"}}),t._v(" Update selected publications (if publications are waiting) ")],1),e("li",[e("b-icon",{attrs:{icon:"alpha-f-box-outline"}}),t._v(" Switch on/off filtering of suggestions ")],1),e("li",[e("b-icon",{attrs:{icon:"arrow-left-bold-box-outline"}}),t._v(' Jump to first publication of "Selected" ')],1),e("li",[e("b-icon",{attrs:{icon:"arrow-right-bold-box-outline"}}),t._v(' Jump to first publication of "Suggested" ')],1),e("li",[e("b-icon",{attrs:{icon:"arrow-down-bold-box-outline"}}),t._v(" Move one publication down (if one is active) ")],1),e("li",[e("b-icon",{attrs:{icon:"arrow-up-bold-box-outline"}}),t._v(" Move one publication up (if one is active) ")],1),e("li",[e("b-icon",{attrs:{icon:"keyboard-esc"}}),t._v(" Escape input field or active publication ")],1),e("li",[e("b-icon",{attrs:{icon:"alpha-c-box-outline"}}),t._v(" Clear session")],1)]),e("h2",[t._v("Active Publication")]),e("p",[t._v("If a publication is marked as active:")]),e("ul",{staticClass:"keys"},[e("li",[e("b-icon",{attrs:{icon:"plus-box-outline"}}),t._v(" Add publication to selection ")],1),e("li",[e("b-icon",{attrs:{icon:"minus-box-outline"}}),t._v(" Exclude publication from selection/suggestion ")],1),e("li",[e("b-icon",{attrs:{icon:"alpha-d-box-outline"}}),t._v(' Open "DOI" link ')],1),e("li",[e("b-icon",{attrs:{icon:"alpha-t-box-outline"}}),t._v(" Show abstract")],1),e("li",[e("b-icon",{attrs:{icon:"alpha-o-box-outline"}}),t._v(' Open "Open access" link ')],1),e("li",[e("b-icon",{attrs:{icon:"alpha-g-box-outline"}}),t._v(' Open "Google Scholar" link ')],1),e("li",[e("b-icon",{attrs:{icon:"alpha-x-box-outline"}}),t._v(" Export as BibTeX citation ")],1)]),e("h2",[t._v("Citation Network")]),e("ul",{staticClass:"keys"},[e("li",[e("b-icon",{attrs:{icon:"alpha-m-box-outline"}}),t._v(" Toggle mode of citation network visualization between "),e("em",[t._v("timeline")]),t._v(" and "),e("em",[t._v("clusters")])],1)])])])])])},Wt=[],Gt={},Xt=(0,I.Z)(Gt,Jt,Wt,!1,null,"9ae87360",null),Vt=Xt.exports;i(2481);function te(t){var e=L(),i=h();if(!(t.ctrlKey||t.shiftKey||t.metaKey||t.repeat&&"ArrowDown"!==t.key&&"ArrowUp"!==t.key))if(i.isLoading||i.isOverlay||i.isSearchPanelShown&&"INPUT"!=document.activeElement.nodeName||i.isAboutPageShown||i.isKeyboardControlsShown)t.preventDefault();else{if("INPUT"===document.activeElement.nodeName&&"text"===document.activeElement.type||document.activeElement.className.includes("input")&&document.activeElement.className.includes("boost"))return"Enter"===t.key&&document.activeElement.className.includes("boost")?(e.updateScores(),void t.preventDefault()):void("Escape"===t.key&&document.activeElement.blur());if("a"===t.key)return t.preventDefault(),e.clearActivePublication("setting focus on text field"),void document.getElementsByClassName("input add-publication")[0].focus();if("s"===t.key)return t.preventDefault(),void(i.isSearchPanelShown=!0);if(!e.isEmpty)if("c"===t.key)t.preventDefault(),e.clearSession();else if("Escape"===t.key)t.preventDefault(),document.activeElement.blur(),e.clearActivePublication("escape key");else if("b"===t.key)t.preventDefault(),e.clearActivePublication("setting focus on text field"),document.getElementsByClassName("input boost")[0].focus();else if("u"===t.key)t.preventDefault(),e.updateQueued();else if("f"===t.key)t.preventDefault(),i.isFilterPanelShown=!i.isFilterPanelShown;else if("m"===t.key)t.preventDefault(),i.isNetworkClusters=!i.isNetworkClusters;else if("ArrowLeft"===t.key)t.preventDefault(),i.activatePublicationComponent(document.getElementById("selected").getElementsByClassName("publication-component")[0]);else if("ArrowRight"===t.key)t.preventDefault(),i.activatePublicationComponent(document.getElementById("suggested").getElementsByClassName("publication-component")[0]);else if(e.activePublication)if("ArrowDown"===t.key||"ArrowUp"===t.key){t.preventDefault();var n=document.getElementsByClassName("publication-component active")[0];try{i.activatePublicationComponent("ArrowDown"===t.key?n.parentNode.nextSibling.getElementsByClassName("publication-component")[0]:n.parentNode.previousSibling.getElementsByClassName("publication-component")[0])}catch(a){console.log("Could not activate next/previous publication.")}}else if("+"===t.key){t.preventDefault();var s=e.activePublication.doi;e.queueForSelected(s)}else if("-"===t.key){t.preventDefault();var o=e.activePublication.doi;e.queueForExcluded(o)}else"d"===t.key?(t.preventDefault(),window.open(e.activePublication.doiUrl)):"t"===t.key&&e.activePublication.abstract?(t.preventDefault(),i.showAbstract(e.activePublication)):"o"===t.key&&e.activePublication.oaLink?(t.preventDefault(),window.open(e.activePublication.oaLink)):"g"===t.key?(t.preventDefault(),window.open(e.activePublication.gsUrl)):"x"===t.key&&(t.preventDefault(),e.exportSingleBibtex(e.activePublication))}}var ee={name:"App",setup:function(){var t=L(),e=h();return{sessionStore:t,interfaceStore:e}},components:{HeaderPanel:K,SelectedPublicationsComponent:pt,SuggestedPublicationsComponent:mt,NetworkVisComponent:Ft,QuickAccessBar:Mt,SearchPanel:qt,AboutPage:$t,KeyboardControlsPage:Vt},created:function(){window.addEventListener("keydown",te)},mounted:function(){var t=this;window.onbeforeunload=function(){return window.scrollTo(0,0),t.sessionStore.isEmpty?null:""}},beforeDestroy:function(){document.removeEventListener("keydown",this.onKey)}},ie=ee,ne=(0,I.Z)(ie,s,o,!1,null,null,null),se=ne.exports,oe={i8:"0.6.0"},ae=i(655),re=i(7309);n.ZP.use(l.og);var ce=(0,l.WB)();n.ZP.use(ae.ZP,{defaultIconPack:"mdi"}),n.ZP.use(re.ZP,{maxWidth:"min(400px,70vw)"}),n.ZP.component("tippy",re.Jx),n.ZP.config.productionTip=!1,n.ZP.prototype.$appName="PURE suggest",n.ZP.prototype.$appNameHtml='<span class="has-text-primary">PURE&nbsp;</span><span class="has-text-info">suggest</span>',n.ZP.prototype.$appSubtitle="Citation-based literature search",n.ZP.prototype.$version=oe.i8,new n.ZP({render:function(t){return t(se)},pinia:ce}).$mount("#app")}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=t,function(){var t=[];i.O=function(e,n,s,o){if(!n){var a=1/0;for(u=0;u<t.length;u++){n=t[u][0],s=t[u][1],o=t[u][2];for(var r=!0,c=0;c<n.length;c++)(!1&o||a>=o)&&Object.keys(i.O).every((function(t){return i.O[t](n[c])}))?n.splice(c--,1):(r=!1,o<a&&(a=o));if(r){t.splice(u--,1);var l=s();void 0!==l&&(e=l)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[n,s,o]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,o,a=n[0],r=n[1],c=n[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(s in r)i.o(r,s)&&(i.m[s]=r[s]);if(c)var u=c(i)}for(e&&e(n);l<a.length;l++)o=a[l],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(u)},n=self["webpackChunkpure"]=self["webpackChunkpure"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(5735)}));n=i.O(n)})();
//# sourceMappingURL=app-legacy.072ca157.js.map